<!DOCTYPE html>
<html lang="en"><head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>EIP-1571: EthereumStratum/2.0.0</title>
<meta property="og:title" content="EIP-1571: EthereumStratum/2.0.0" />
<meta name="description" content="" />
<meta property="og:description" content="" />
<meta name="twitter:description" content="" />
<meta name="generator" content="Jekyll" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="https://eips.ethereum.org/EIPS/eip-1571" />
<meta property="og:url" content="https://eips.ethereum.org/EIPS/eip-1571" />
<meta property="og:site_name" content="Ethereum Improvement Proposals" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
    {
      "@type": "WebSite",
      "url": "https://eips.ethereum.org",
      "name": "Ethereum Improvement Proposals",
      "description": "Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards.",
      "@context": "https://schema.org"
    }
  </script>
<link rel="stylesheet" href="/assets/css/style.css" /><link type="application/atom+xml" rel="alternate" href="https://eips.ethereum.org/feed.xml" title="Ethereum Improvement Proposals" /><script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha256-nlrDrBTHxJJlDDX22AS33xYI1OJHnGMDhiYMSe2U0e0=" crossorigin="anonymous"></script>
</head>
<body><header class="site-header" role="banner">
<div class="wrapper"><a class="site-title" rel="author" href="/">Ethereum Improvement Proposals</a><nav class="site-nav">
<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger">
<span class="menu-icon">
<svg viewBox="0 0 18 15" width="18px" height="15px">
<path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z" />
</svg>
</span>
</label>
<div class="trigger"><a class="page-link" href="/all">All</a><a class="page-link" href="/core">Core</a><a class="page-link" href="/networking">Networking</a><a class="page-link" href="/interface">Interface</a><a class="page-link" href="/erc">ERC</a><a class="page-link" href="/meta">Meta</a><a class="page-link" href="/informational">Informational</a></div>
</nav></div>
</header>
<main class="page-content" aria-label="Content">
<div class="wrapper">
<div class="stagnant">
üöß This EIP had no activity for at least 6 months.
</div>
<div class="home">
<h1 class="page-heading">
EIP-1571: EthereumStratum/2.0.0
<a href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-1571.md"><svg role="img" aria-label="Source" xmlns="https://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><title>Source</title><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z" /></svg></a>
</h1>
<h3></h3>
<table>
<tr><th>Author</th><td><a href="https://github.com/AndreaLanfranchi">Andrea Lanfranchi</a>, <a href="https://github.com/chfast">Pawel Bylica</a>, <a href="https://github.com/MariusVanDerWijden">Marius Van Der Wijden</a></td></tr>
<tr><th>Discussions-To</th><td><a href="https://github.com/AndreaLanfranchi/EthereumStratum-2.0.0/issues">https://github.com/AndreaLanfranchi/EthereumStratum-2.0.0/issues</a></td></tr>
<tr><th>Status</th><td>Stagnant
</td></tr>
<tr><th>Type</th><td>Standards Track</td></tr>
<tr><th>Category</th><td>Interface</td></tr>
<tr><th>Created</th><td>2018-11-09</td></tr>
</table>
<div class="toc">
<h2>Table of Contents</h2>
<ul>
<li><a href="#abstract">Abstract</a>
<ul>
<li><a href="#conventions">Conventions</a></li>
<li><a href="#rationale">Rationale</a></li>
<li><a href="#stratum-design-flaws">Stratum design flaws</a></li>
<li><a href="#sources-of-inspiration">Sources of inspiration</a></li>
</ul>
</li>
<li><a href="#specification">Specification</a>
<ul>
<li><a href="#json-rpc-20-compliances">JSON-RPC-2.0 Compliances</a></li>
<li><a href="#json-rpc-20-defiances">JSON-RPC-2.0 Defiances</a></li>
</ul>
</li>
<li><a href="#conventions-1">Conventions</a>
<ul>
<li><a href="#requests">Requests</a></li>
<li><a href="#responses">Responses</a></li>
<li><a href="#notifications">Notifications</a></li>
</ul>
</li>
<li><a href="#protocol-flow">Protocol Flow</a>
<ul>
<li><a href="#session-handling---hello">Session Handling - Hello</a></li>
<li><a href="#session-handling---bye">Session Handling - Bye</a></li>
<li><a href="#session-handling---session-subscription">Session Handling - Session Subscription</a></li>
<li><a href="#session-handling---response-to-subscription">Session Handling - Response to Subscription</a></li>
<li><a href="#session-handling---noop">Session Handling - Noop</a></li>
<li><a href="#session-handling---reconnect">Session Handling - Reconnect</a></li>
<li><a href="#workers-authorization">Workers Authorization</a></li>
<li><a href="#prepare-for-mining">Prepare for mining</a></li>
<li><a href="#a-detail-of-extranonce">A detail of ‚Äúextranonce‚Äù</a></li>
<li><a href="#jobs-notification">Jobs notification</a></li>
<li><a href="#solution-submission">Solution submission</a></li>
<li><a href="#hashrate">Hashrate</a></li>
</ul>
</li>
<li><a href="#copyright">Copyright</a></li>
</ul>
</div>
<h2 id="abstract">
<a href="#abstract" class="anchor-link"></a> Abstract
</h2>
<p>This draft contains the guidelines to define a new standard for the Stratum protocol used by Ethereum miners to communicate with mining pool servers.</p>
<h3 id="conventions">
<a href="#conventions" class="anchor-link"></a> Conventions
</h3>
<p>The key words <code class="language-plaintext highlighter-rouge">MUST</code>, <code class="language-plaintext highlighter-rouge">MUST NOT</code>, <code class="language-plaintext highlighter-rouge">REQUIRED</code>, <code class="language-plaintext highlighter-rouge">SHALL</code>, <code class="language-plaintext highlighter-rouge">SHALL NOT</code>, <code class="language-plaintext highlighter-rouge">SHOULD</code>, <code class="language-plaintext highlighter-rouge">SHOULD NOT</code>, <code class="language-plaintext highlighter-rouge">RECOMMENDED</code>, <code class="language-plaintext highlighter-rouge">MAY</code>, and <code class="language-plaintext highlighter-rouge">OPTIONAL</code> in this document are to be interpreted as described in <a href="https://tools.ietf.org/html/rfc2119">RFC 2119</a>.
The definition <code class="language-plaintext highlighter-rouge">mining pool server</code>, and it‚Äôs plural form, is to be interpreted as <code class="language-plaintext highlighter-rouge">work provider</code> and later in this document can be shortened as <code class="language-plaintext highlighter-rouge">pool</code> or <code class="language-plaintext highlighter-rouge">server</code>.
The definition <code class="language-plaintext highlighter-rouge">miner(s)</code>, and it‚Äôs plural form, is to be interpreted as <code class="language-plaintext highlighter-rouge">work receiver/processor</code> and later in this document can be shortened as <code class="language-plaintext highlighter-rouge">miner</code> or <code class="language-plaintext highlighter-rouge">client</code>.</p>
<h3 id="rationale">
<a href="#rationale" class="anchor-link"></a> Rationale
</h3>
<p>Ethereum does not have an official Stratum implementation yet. It officially supports only getWork which requires miners to constantly pool the work provider. Only recently go-ethereum have implemented a <a href="https://github.com/ethereum/go-ethereum/pull/17347">push mechanism</a> to notify clients for mining work, but whereas the vast majority of miners do not run a node, it‚Äôs main purpose is to facilitate mining pools rather than miners.
The Stratum protocol on the other hand relies on a standard stateful TCP connection which allows two-way exchange of line-based messages. Each line contains the string representation of a JSON object following the rules of either <a href="https://www.jsonrpc.org/specification_v1">JSON-RPC 1.0</a> or <a href="https://www.jsonrpc.org/specification">JSON-RPC 2.0</a>.
Unfortunately, in absence of a well defined standard, various flavours of Stratum have bloomed for Ethereum mining as a derivative work for different mining pools implementations. The only attempt to define a standard was made by NiceHash with their <a href="https://github.com/nicehash/Specifications/blob/master/EthereumStratum_NiceHash_v1.0.0.txt">EthereumStratum/1.0.0</a> implementation which is the main source this work inspires from.
Mining activity, thus the interaction among pools and miners, is at it‚Äôs basics very simple, and can be summarized with ‚Äú<em>please find a number (nonce) which coupled to this data as input for a given hashing algorithm produces, as output, a result which is below a certain target</em>‚Äù. Other messages which may or have to be exchanged among parties during a session are needed to support this basic concept.
Due to the simplicity of the subject, the proponent, means to stick with JSON formatted objects rather than investigating more verbose solutions, like for example <a href="https://developers.google.com/protocol-buffers/docs/overview">Google‚Äôs Protocol Buffers</a> which carry the load of strict object definition.</p>
<h3 id="stratum-design-flaws">
<a href="#stratum-design-flaws" class="anchor-link"></a> Stratum design flaws
</h3>
<p>The main Stratum design flaw is the absence of a well defined standard. This implies that miners (and mining software developers) have to struggle with different flavours which make their life hard when switching from one pool to another or even when trying to ‚Äúguess‚Äù which is the flavour implemented by a single pool. Moreover all implementations still suffer from an excessive verbosity for a chain with a very small block time like Ethereum. A few numbers may help understand. A normal <code class="language-plaintext highlighter-rouge">mining.notify</code> message weigh roughly 240 bytes: assuming the dispatch of 1 work per block to an audience of 50k connected TCP sockets means the transmission of roughly 1.88TB of data a month. And this can be an issue for large pools. But if we see the same figures the other way round, from a miner‚Äôs perspective, we totally understand how mining decentralization is heavily affected by the quality of internet connections.</p>
<h3 id="sources-of-inspiration">
<a href="#sources-of-inspiration" class="anchor-link"></a> Sources of inspiration
</h3>
<ul>
<li><a href="https://github.com/nicehash/Specifications/blob/master/EthereumStratum_NiceHash_v1.0.0.txt">NiceHash EthereumStratum/1.0.0</a></li>
<li><a href="https://github.com/zcash/zips/blob/23d74b0373c824dd51c7854c0e3ea22489ba1b76/drafts/str4d-stratum/draft1.rst#json-rpc-1-0">Zcash variant of the Stratum protocol</a></li>
</ul>
<h2 id="specification">
<a href="#specification" class="anchor-link"></a> Specification
</h2>
<p>The Stratum protocol is an instance of <a href="https://www.jsonrpc.org/specification">JSON-RPC-2.0</a>. The miner is a JSON-RPC client, and the server is a JSON-RPC server. All communications exist within the scope of a <code class="language-plaintext highlighter-rouge">session</code>. A session starts at the moment a client opens a TCP connection to the server till the moment either party do voluntary close the very same connection or it gets broken. Servers <strong>MAY</strong> support session resuming if this is initially negotiated (on first session handshaking) between the client and the server. During a session all messages exchanged among server and client are line-based which means all messages are JSON strings terminated by ASCII LF character (which may also be denoted as <code class="language-plaintext highlighter-rouge">\n</code> in this document). The LF character <strong>MUST NOT</strong> appear elsewhere in a message. Client and server implementations <strong>MUST</strong> assume that once they read a LF character, the current message has been completely received and can be processed.
Line messages are of three types :</p>
<ul>
<li><code class="language-plaintext highlighter-rouge">Requests</code> : messages for which the issuer expects a response. The receiver <strong>MUST</strong> reply back to any request individually</li>
<li><code class="language-plaintext highlighter-rouge">Responses</code> : solicited messages by a previous request. The responder <strong>MUST</strong> label the response with the same identifier of the originating request.</li>
<li><code class="language-plaintext highlighter-rouge">Notifications</code> : unsolicited messages for which the issuer is not interested nor is expecting a response. Nevertheless a response (eg. an aknowledgement) <strong>MAY</strong> be sent by the receiver.</li>
</ul>
<p>During a <code class="language-plaintext highlighter-rouge">session</code> both parties <strong>CAN</strong> exchange messages of the above depicted three types.</p>
<h3 id="json-rpc-20-compliances">
<a href="#json-rpc-20-compliances" class="anchor-link"></a> JSON-RPC-2.0 Compliances
</h3>
<p>As per <a href="https://www.jsonrpc.org/specification">JSON-RPC-2.0</a> specification requests and responses differ from notifications by the identifier (<code class="language-plaintext highlighter-rouge">id</code>) member in the JSON object:</p>
<ul>
<li>Requests <strong>MUST</strong> have an <code class="language-plaintext highlighter-rouge">id</code> member</li>
<li>Responses <strong>MUST</strong> have an <code class="language-plaintext highlighter-rouge">id</code> member valued exactly as the <code class="language-plaintext highlighter-rouge">id</code> member of the request this response is for</li>
<li>Notifications <strong>MUST NOT</strong> have an <code class="language-plaintext highlighter-rouge">id</code> member</li>
</ul>
<h3 id="json-rpc-20-defiances">
<a href="#json-rpc-20-defiances" class="anchor-link"></a> JSON-RPC-2.0 Defiances
</h3>
<p>In order to get the most concise messages among parties of a session/conversation this implementation enforces the following defiances :</p>
<ul>
<li>JSON member <code class="language-plaintext highlighter-rouge">jsonrpc</code> (always valued to ‚Äú2.0‚Äù) <strong>MUST ALWAYS BE OMITTED</strong></li>
<li>JSON member <code class="language-plaintext highlighter-rouge">id</code> <strong>MUST NOT</strong> be <code class="language-plaintext highlighter-rouge">null</code>. When member is present, mandatorily in requests and responses, it <strong>MUST</strong> be valued to an integer Number ranging from 0 to 65535. Please note that a message with <code class="language-plaintext highlighter-rouge">"id": 0</code> <strong>MUST NOT</strong> be interpreted as a notification: it‚Äôs a request with identifier 0</li>
<li>JSON member <code class="language-plaintext highlighter-rouge">id</code> <strong>MUST</strong> be only of type primitive number. The removal of other identifier types (namely strings) is due to the need to reduce the number of bytes transferred.</li>
</ul>
<h2 id="conventions-1">
<a href="#conventions-1" class="anchor-link"></a> Conventions
</h2>
<ul>
<li>The representation of a JSON object is, at it‚Äôs base, a string</li>
<li>The conversation among the client and the server is made of strings. Each string ending with a LF (ASCII char 10) denotes a <code class="language-plaintext highlighter-rouge">line</code>. Each line <strong>MUST</strong> contain only one JSON root object. Eventually the root object <strong>MAY</strong> contain additional JSON objects in it‚Äôs members.</li>
<li>Aside the <code class="language-plaintext highlighter-rouge">LF</code> delimiter each <code class="language-plaintext highlighter-rouge">line</code> <strong>MUST</strong> be made of printable ASCII chars in the range 32..126</li>
<li>It‚Äôs implicit and mandatory that each line message corresponds to a well formatted JSON object: see <a href="https://www.json.org/">JSON documentation</a></li>
<li>JSON objects are made of <code class="language-plaintext highlighter-rouge">members</code> which can be of type : primitive of string/number, JSON object, JSON arrays</li>
<li>JSON <code class="language-plaintext highlighter-rouge">member</code>‚Äôs names are strings which <strong>MUST</strong> be composed of printable chars only in the ASCII range 48..57 (numbers) and 97..122 (lower case letters).</li>
<li>JSON <code class="language-plaintext highlighter-rouge">member</code>‚Äôs names <strong>MUST NOT</strong> begin with a number.</li>
<li>JSON values <code class="language-plaintext highlighter-rouge">arrays</code> : although the JSON notation allows the insertion of different data types within the same array, this behavior is generally not accepted in coding languages. Due to this, by the means of EthereumStratum/2.0.0, all implementers <strong>MUST</strong> assume that an array is made of elements of the very same data type.</li>
<li>JSON values <code class="language-plaintext highlighter-rouge">booleans</code> : the JSON notation allows to express boolean values as <code class="language-plaintext highlighter-rouge">true</code> or <code class="language-plaintext highlighter-rouge">false</code>. In EthereumStratum/2.0.0, for better compatibility within arrays, boolean values will be expressed in the hex form of ‚Äú0‚Äù (false) or ‚Äú1‚Äù (true)</li>
<li>JSON values <code class="language-plaintext highlighter-rouge">strings</code> : any string value <strong>MUST</strong> be composed of printable ASCII chars only in the ASCII range 32..126. Each string is delimited by a <code class="language-plaintext highlighter-rouge">"</code> (ASCII 34) at the beginning and at the end. Should the string value contain a <code class="language-plaintext highlighter-rouge">"</code> this must be escaped as <code class="language-plaintext highlighter-rouge">\"</code></li>
<li>Hex values : a Hexadecimal representation of a number is actually a string data type. As a convention, and to reduce the number of transmitted bytes, the prefix ‚Äú0x‚Äù <strong>MUST</strong> always be omitted. In addition any hex number <strong>MUST</strong> be transferred only for their significant part i.e. the non significant zeroes <strong>MUST</strong> be omitted (example : the decimal <code class="language-plaintext highlighter-rouge">456</code> must be represented as <code class="language-plaintext highlighter-rouge">"1c8"</code> and not as <code class="language-plaintext highlighter-rouge">"01c8"</code> although the conversion produces the same decimal value). This directive <strong>DOES NOT APPLY</strong> to hashes and extranonces</li>
<li>Hex values casing : all letters in Hexadecimal values <strong>MUST</strong> be lower case. (example : the decimal <code class="language-plaintext highlighter-rouge">456</code> must be represented as <code class="language-plaintext highlighter-rouge">"1c8"</code> and not as <code class="language-plaintext highlighter-rouge">"1C8"</code> although the conversion produces the same decimal value). This directive <strong>DOES NOT APPLY</strong> to hashes.</li>
<li>Numbers : any non-fractional number <strong>MUST</strong> be transferred by it‚Äôs hexadecimal representation</li>
</ul>
<h3 id="requests">
<a href="#requests" class="anchor-link"></a> Requests
</h3>
<p>The JSON representation of <code class="language-plaintext highlighter-rouge">request</code> object is made of these parts:</p>
<ul>
<li>mandatory <code class="language-plaintext highlighter-rouge">id</code> member of type Integer : the identifier established by the issuer</li>
<li>mandatory <code class="language-plaintext highlighter-rouge">method</code> member of type String : the name of the method to be invoked on the receiver side</li>
<li>optional <code class="language-plaintext highlighter-rouge">params</code> member : in case the method invocation on the receiver side requires the application of additional parameters to be executed. The type <strong>CAN</strong> be Object (with named members of different types) or Array of single type. In case of an array the parameters will be applied by their ordinal position. If the method requested for invocation on the receiver side does not require the application of additional parameters this member <strong>MUST NOT</strong> be present. The notation <code class="language-plaintext highlighter-rouge">"params" : null</code> <strong>IS NOT PERMITTED</strong></li>
</ul>
<h3 id="responses">
<a href="#responses" class="anchor-link"></a> Responses
</h3>
<p>The JSON representation of <code class="language-plaintext highlighter-rouge">response</code> object is made of these parts:</p>
<ul>
<li>mandatory <code class="language-plaintext highlighter-rouge">id</code> member of type Integer : the identifier of the request this response corresponds to</li>
<li>optional <code class="language-plaintext highlighter-rouge">error</code> member : whether an error occurred during the parsing of the method or during it‚Äôs execution this member <strong>MUST</strong> be present and valued. If no errors occurred this member <strong>MUST NOT</strong> be present. For a detailed structure of the <code class="language-plaintext highlighter-rouge">error</code> member see below.</li>
<li>optional <code class="language-plaintext highlighter-rouge">result</code> member : This has to be set, if the corresponding request requires a result from the user. If no errors occurred by invoking the corresponding function, this member <strong>MUST</strong> be present even if one or more information are null. The type can be of Object or single type Array or Primitive string/number. If no data is meant back for the issuer (the method is void on the receiver) or an error occurred this member <strong>MUST NOT</strong> be present.</li>
</ul>
<p>You‚Äôll notice here some differences with standard JSON-RPC-2.0. Namely the result member is not always required. Basically a response like this :</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>means ‚Äúrequest received and processed correctly with no data to send back‚Äù.</p>
<p>To better clarify the concept and clear the field of free interpretations let‚Äôs take another example of <strong>wrong response</strong></p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>This response syntax leaves room to many interpretations : is it an error ? is <code class="language-plaintext highlighter-rouge">false</code> the legit response value to the issued request ?</p>
<p>For this reason responses, we reiterate, <strong>MUST BE</strong> of two types:</p>
<ul>
<li>success responses : no error occurred during the processing, the request was legit, syntactically correct, and the receiver had no issues processing it. This kind of responses <strong>MUST NOT</strong> have the <code class="language-plaintext highlighter-rouge">error</code> member and <strong>MAY</strong> have the <code class="language-plaintext highlighter-rouge">result</code> member if a value is expected back to the issuer.</li>
<li>failure responses : something wrong with the request, it‚Äôs syntax, it‚Äôs validity scope, or server processing problems. This kind of responses <strong>MUST HAVE</strong> the <code class="language-plaintext highlighter-rouge">error</code> member and <strong>MAY</strong> have the <code class="language-plaintext highlighter-rouge">result</code> member.</li>
</ul>
<p>The latter deserves a better explanation: failure responses can be distinguished by a severity degree.
Example 1 : a client submits a solution and server rejects it cause it‚Äôs not below target. Server <strong>MUST</strong> respond like this</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">406</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Bad nonce"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>Example 2 : a client submits a solution and server <strong>accepts</strong> it <strong>but</strong> it accounts the share as stale. Server <strong>MUST</strong> respond like this</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">202</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Stale"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>Example 3 : a client submits an authorization request specifying an invalid workername. Server authorizes the account but rejects worker name. Server <strong>MUST</strong> respond like this</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">215</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid Worker Name"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>Example 1 depicts the condition of a severe failure while Example 2 and 3 depict a situation where the request has been accepted and processed properly but the result <strong>MAY NOT</strong> be what expected by the client.
It‚Äôs up to the client to evaluate the severity of the error and decide whether to proceed or not.</p>
<p>Using proper error codes pools may properly inform miners of the condition of their requests. Error codes <strong>MUST</strong> honor this scheme:</p>
<ul>
<li>Error codes 2xx : request accepted and processed but some additional info in the <code class="language-plaintext highlighter-rouge">error</code> member may give hint</li>
<li>Error codes 3xx : server could not process the request due to a lack of authorization by the client</li>
<li>Error codes 4xx : server could not process the request due to syntactic problems (method not found, missing params, wrong data types ecc.) or passed <code class="language-plaintext highlighter-rouge">param</code> values are not valid.</li>
<li>Error codes 5xx : server could not process the request due to internal errors</li>
</ul>
<h3 id="notifications">
<a href="#notifications" class="anchor-link"></a> Notifications
</h3>
<p>A notification message has the very same representation of a <code class="language-plaintext highlighter-rouge">request</code> with the only difference the <code class="language-plaintext highlighter-rouge">id</code> member <strong>MUST NOT</strong> be present. This means the issuer is not interested nor expects any response to this message. It‚Äôs up to the receiver to take actions accordingly. For instance the receiver <strong>MAY</strong> decide to execute the method, or, in case of errors or methods not allowed, drop the connection thus closing the session.</p>
<h4 id="error-member">
<a href="#error-member" class="anchor-link"></a> Error member
</h4>
<p>As seen above a <code class="language-plaintext highlighter-rouge">response</code> <strong>MAY</strong> contain an <code class="language-plaintext highlighter-rouge">error</code> member. When present this member <strong>MUST</strong> be an Object with:</p>
<ul>
<li>mandatory member <code class="language-plaintext highlighter-rouge">code</code> : a Number which identifies the error occurred</li>
<li>mandatory member <code class="language-plaintext highlighter-rouge">message</code> : a short human readable sentence describing the error occurred</li>
<li>optional member <code class="language-plaintext highlighter-rouge">data</code> : a Structured or Primitive value that contains additional information about the error. The value of this member is defined by the Server (e.g. detailed error information, nested errors etc.).</li>
</ul>
<h2 id="protocol-flow">
<a href="#protocol-flow" class="anchor-link"></a> Protocol Flow
</h2>
<ul>
<li>Client starts session by opening a TCP socket to the server</li>
<li>Client advertises and request protocol compatibility</li>
<li>Server confirms compatibility and declares ready</li>
<li>Client starts/resumes a session</li>
<li>Client sends request for authorization for each of it‚Äôs workers</li>
<li>Server replies back with responses for each authorization</li>
<li>Server sends <code class="language-plaintext highlighter-rouge">mining.set</code> for constant values to be adopted for following mining jobs</li>
<li>Server sends <code class="language-plaintext highlighter-rouge">mining.notify</code> with minimal job info</li>
<li>Client mines on job</li>
<li>Client sends <code class="language-plaintext highlighter-rouge">mining.submit</code> if any solution found for the job</li>
<li>Server replies whether solution is accepted</li>
<li>Server optionally sends <code class="language-plaintext highlighter-rouge">mining.set</code> for constant values to be adopted for following mining jobs (if something changed)</li>
<li>Server sends <code class="language-plaintext highlighter-rouge">mining.notify</code> with minimal job info</li>
<li>‚Ä¶ (continue)</li>
<li>Eventually either party closes session and TCP connection</li>
</ul>
<h3 id="session-handling---hello">
<a href="#session-handling---hello" class="anchor-link"></a> Session Handling - Hello
</h3>
<p><del>One of the worst annoyances until now is that server, at the very moment of socket connection, does not provide any useful information about the stratum flavour implemented. This means the client has to start a conversation by iteratively trying to connect via different protocol flavours. This proposal amends the situation making mandatory for the server to advertise itself to the client.
When a new client connects to the server, the server <strong>MUST</strong> send a <code class="language-plaintext highlighter-rouge">mining.hello</code> notification :</del></p>
<p>It‚Äôs been noted that charging the server of the duty to advertise itself as first message of the conversation could potentially be harmful in respect of traffic amplification attacks using spoofed IP addresses or in traditional DDos attacks where an attacker need to spend very little resources to force the server to send a large packet back.
For this reason the duty of first advertisement is kept on client which will issue a <code class="language-plaintext highlighter-rouge">mining.hello</code> request like this:</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mining.hello"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> 
  </span><span class="p">{</span><span class="w"> 
    </span><span class="nl">"agent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethminer-0.17"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"host"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"somemininigpool.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"port"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"4d2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"proto"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EthereumStratum/2.0.0"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>The <code class="language-plaintext highlighter-rouge">params</code> member object has these mandatory members:</p>
<ul>
<li><code class="language-plaintext highlighter-rouge">agent</code> (string) the mining software version</li>
<li><code class="language-plaintext highlighter-rouge">host</code> (string) the host name of the server this client is willing to connect to</li>
<li><code class="language-plaintext highlighter-rouge">port</code> (hex) the port number of the server this client is willing to connect to</li>
<li><code class="language-plaintext highlighter-rouge">proto</code> (string) which reports the stratum flavour requested and expected to be implemented by the server;</li>
</ul>
<p>The rationale behind sending host and port is it enables virtual hosting, where virtual pools or private URLs might be used for DDoS protection, but that are aggregated on Stratum server backends. As with HTTP, the server CANNOT trust the host string. The port is included separately to parallel the client.reconnect method (see below).</p>
<p>If the server is prepared to start/resume a session with such requirements it <strong>MUST</strong> reply back with a response like this:</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> 
  </span><span class="p">{</span><span class="w"> 
    </span><span class="nl">"proto"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"EthereumStratum/2.0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"encoding"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"gzip"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"resume"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timeout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"b4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxerrors"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"node"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Geth/v1.8.18-unstable-f08f596a/linux-amd64/go1.10.4"</span><span class="w">
  </span><span class="p">}</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>Where the <code class="language-plaintext highlighter-rouge">result</code> is an object made of 5 mandatory members</p>
<ul>
<li><code class="language-plaintext highlighter-rouge">proto</code> (string) which <strong>MUST</strong> match the exact version requested by the client</li>
<li><code class="language-plaintext highlighter-rouge">encoding</code> (string) which value states whether or not all <strong>next messages</strong> should be gzip compressed or not. Possible values are ‚Äúgzip‚Äù or ‚Äúplain‚Äù</li>
<li><code class="language-plaintext highlighter-rouge">resume</code> (hex) which value states whether or not the host can resume a previously created session;</li>
<li><code class="language-plaintext highlighter-rouge">timeout</code> (hex) which reports the number of seconds after which the server is allowed to drop connection if no messages from the client</li>
<li><code class="language-plaintext highlighter-rouge">maxerrors</code> (hex) the maximum number of errors the server will bear before abruptly close connection</li>
<li><code class="language-plaintext highlighter-rouge">node</code> (string) the node software version underlying the pool</li>
</ul>
<p>When the server replies back with <code class="language-plaintext highlighter-rouge">"encoding" : "gzip"</code> to the client, both parties <strong>MUST</strong> gzip compress all next messages. In case the client is not capable of compression it <strong>MUST</strong> close the connection immediately.
Should the server, after this reply, receive other messages as plain text, it <strong>MUST</strong> close the connection.</p>
<p>Eventually the client will continue with <code class="language-plaintext highlighter-rouge">mining.subscribe</code> (further on descripted)</p>
<p>Otherwise, in case of errors or rejection to start the conversation, the server <strong>MAY</strong> reply back with an error giving the other party useful information or, at server‚Äôs maintainers discretion, abruptly close the connection.</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> 
  </span><span class="p">{</span><span class="w"> 
      </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Bad protocol request"</span><span class="w">
  </span><span class="p">}</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>or</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> 
  </span><span class="p">{</span><span class="w"> 
      </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">403</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Forbidden - Banned IP address"</span><span class="w">
  </span><span class="p">}</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p><em>The above two JSON error values are only samples</em>
Eventually the server will close the connection.</p>
<p>Why a pool should advertise the node‚Äôs version ? It‚Äôs a matter of transparency : miners should know whether or not pool have upgraded to latest patches/releases for node‚Äôs software.</p>
<h3 id="session-handling---bye">
<a href="#session-handling---bye" class="anchor-link"></a> Session Handling - Bye
</h3>
<p>Disconnection are not gracefully handled in Stratum. Client disconnections from pool may be due to several errors and this leads to waste of TCP sockets on server‚Äôs side which wait for keepalive timeouts to trigger. A useful notification is <code class="language-plaintext highlighter-rouge">mining.bye</code> which, once processed, allows both parties of the session to stop receiving and gracefully close TCP connections</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mining.bye"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>The party receiving this message aknowledges the other party wants to stop the conversation and closes the socket. The issuer will close too. The explicit issuance of this notification implies the session gets abandoned so no session resuming will be possible even on server which support session-resuming. Client reconnecting to the same server which implements session resuming <strong>SHOULD</strong> expect a new session id and <strong>MUST</strong> re-authorize all their workers.</p>
<h3 id="session-handling---session-subscription">
<a href="#session-handling---session-subscription" class="anchor-link"></a> Session Handling - Session Subscription
</h3>
<p>After receiving the response to <code class="language-plaintext highlighter-rouge">mining.hello</code> from server, the client, in case the server does support session resuming <strong>MAY</strong> request to resume a previously interrupted session with <code class="language-plaintext highlighter-rouge">mining.subscribe</code> request:</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mining.subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s-12345"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>where <code class="language-plaintext highlighter-rouge">params</code> is the id of the session the client wants to resume.</p>
<p>Otherwise, if client wants to start a new session <strong>OR</strong> server does not support session resuming, the request of subscription <strong>MUST</strong> omit the <code class="language-plaintext highlighter-rouge">params</code> member:</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mining.subscribe"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<h3 id="session-handling---response-to-subscription">
<a href="#session-handling---response-to-subscription" class="anchor-link"></a> Session Handling - Response to Subscription
</h3>
<p>A server receiving a client session subscription <strong>MUST</strong> reply back with</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s-12345"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>A server receiving a subscription request with <code class="language-plaintext highlighter-rouge">params</code> being a string holding the session id. This cases may apply</p>
<ul>
<li>If session resuming is not supported <code class="language-plaintext highlighter-rouge">result</code> will hold a new session Id which <strong>MUST</strong> be a different value from the <code class="language-plaintext highlighter-rouge">session</code> member issued by client in previous <code class="language-plaintext highlighter-rouge">mining.subscribe</code> method</li>
<li>If session resuming is supported it will retrieve working values from cache and <code class="language-plaintext highlighter-rouge">result</code> will have the same id requested by the client. This means a session is ‚Äúresumed‚Äù: as a consequence the server <strong>CAN</strong> start pushing jobs omitting to precede them with <code class="language-plaintext highlighter-rouge">mining.set</code> (see below) and the client <strong>MUST</strong> continue to use values lastly received within the same session scope. In addition the client <strong>CAN</strong> omit to re-authorize all it‚Äôs workers.</li>
<li>If session resuming is supported but the requested session has expired or it‚Äôs cache values have been purged <code class="language-plaintext highlighter-rouge">result</code> will hold a new session Id which <strong>MUST</strong> be a different value from the <code class="language-plaintext highlighter-rouge">session</code> member issued by client in previous <code class="language-plaintext highlighter-rouge">mining.subscribe</code> method. As a consequence the server <strong>MUST</strong> wait for client to request authorization for it‚Äôs workers and <strong>MUST</strong> send <code class="language-plaintext highlighter-rouge">mining.set</code> values before pushing jobs. The client <strong>MUST</strong> prepare for a new session discarding all previously cached values (if any).</li>
</ul>
<p>A server implementing session-resuming <strong>MUST</strong> cache :</p>
<ul>
<li>The session Ids</li>
<li>Any active job per session</li>
<li>The extraNonce</li>
<li>Any authorized worker</li>
</ul>
<p>Servers <strong>MAY</strong> drop entries from the cache on their own schedule. It‚Äôs up to server to enforce session validation for same agent and/or ip.</p>
<p>A client which successfully subscribes and resumes session (the <code class="language-plaintext highlighter-rouge">session</code> value in server response is identical to <code class="language-plaintext highlighter-rouge">session</code> value requested by client on <code class="language-plaintext highlighter-rouge">mining.subscribe</code>) <strong>CAN</strong> omit to issue the authorization request for it‚Äôs workers.</p>
<h3 id="session-handling---noop">
<a href="#session-handling---noop" class="anchor-link"></a> Session Handling - Noop
</h3>
<p>There are cases when a miner struggles to find a solution in a reasonable time so it may trigger the timeout imposed by the server in case of no communications (the server, in fact, may think the client got disconnected). To mitigate the problem a new method <code class="language-plaintext highlighter-rouge">mining.noop</code>(with no additional parameters) may be requested by the client.</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
  </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mining.noop"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<h3 id="session-handling---reconnect">
<a href="#session-handling---reconnect" class="anchor-link"></a> Session Handling - Reconnect
</h3>
<p>Under certain circumstances the server may need to free some resources and or to relocate miners to another machine. Until now the only option for servers was to abruptly close the connection. On the miner‚Äôs side this action is interpreted as a server malfunction and they, more often than not, switch to a failover pool.
The implementation of the notification <code class="language-plaintext highlighter-rouge">mining.reconnect</code> helps client to better merge with logic of handling of large mining pools.</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mining.reconnect"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"someotherhost.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"port"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d80"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"resume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>This notification is meant only from servers to clients. Should a server receive such a notification it will simply ignore it. After the notification has been properly sent, the server is ALLOWED to close the connection, while the client will take the proper actions to reconnect to the suggested end-point.
The <code class="language-plaintext highlighter-rouge">host</code> member in <code class="language-plaintext highlighter-rouge">params</code> object <strong>SHOULD</strong> report an host DNS name and not an IP address: TLS encrypted connections require to validate the CN name in the certificate which, 99% of the cases, is an host name.
The third member <code class="language-plaintext highlighter-rouge">resume</code> of the <code class="language-plaintext highlighter-rouge">params</code> object sets whether or not the receiving server is prepared for session resuming.
After this notification has been issued by the server, the client should expect no further messages and <strong>MUST</strong> disconnect.</p>
<h3 id="workers-authorization">
<a href="#workers-authorization" class="anchor-link"></a> Workers Authorization
</h3>
<p>The miner <strong>MUST</strong> authorize at least one worker in order to begin receiving jobs and submit solutions or hashrates. The miner <strong>MAY</strong> authorize multiple workers in the same session. The server <strong>MUST</strong> allow authorization for multiple workers within a session and <strong>MUST</strong> validate at least one authorization from the client before starting to send jobs. A <code class="language-plaintext highlighter-rouge">worker</code> is a tuple of the address where rewards must be credited coupled with identifier of the machine actually doing the work. For Ethereum the most common form is <code class="language-plaintext highlighter-rouge">&lt;account&gt;.&lt;MachineName&gt;</code>. The same account can be bound to multiple machines. For pool‚Äôs allowing anonymous mining the account is the address where rewards must be credited, while, for pools requiring registration, the account is the login name. Each time a solution is submitted by the client it must be labelled with the Worker identifier. It‚Äôs up to server to keep the correct accounting for different addresses.</p>
<p>The syntax for the authorization request is the following:</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mining.authorize"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"&lt;account&gt;[.&lt;MachineName&gt;]"</span><span class="p">,</span><span class="w"> </span><span class="s2">"password"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">params</code> member must be an Array of 2 string elements. For anonymous mining the ‚Äúpassword‚Äù can be any string value or empty but not null. Pools allowing anonymous mining will simply ignore the value.
The server <strong>MUST</strong> reply back either with an error or, in case of success, with</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"w-123"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>Where the <code class="language-plaintext highlighter-rouge">result</code> member is a string which holds an unique - within the scope of the <code class="language-plaintext highlighter-rouge">session</code> - token which identifies the authorized worker. For every further request issued by the client, and related to a Worker action, the client <strong>MUST</strong> use the token given by the server in response to an <code class="language-plaintext highlighter-rouge">mining.authorize</code> request. This reduces the number of bytes transferred for solution and /or hashrate submission.</p>
<p>If client is resuming a previous session it <strong>CAN</strong> omit the authorization request for it‚Äôs workers and, in this case, <strong>MUST</strong> use the tokens assigned in the originating session. It‚Äôs up to the server to keep the correct map between tokens and workers.
The server receiving an authorization request where the credentials match previously authorized ones within the same session <strong>MUST</strong> reply back with the previously generated unique token.</p>
<h3 id="prepare-for-mining">
<a href="#prepare-for-mining" class="anchor-link"></a> Prepare for mining
</h3>
<p>A lot of data is sent over the wire multiple times with useless redundancy. For instance the seed hash is meant to change only every 30000 blocks (roughly 5 days) while fixed-diff pools rarely change the work target. Moreover pools must optimize the search segments among miners trying to assign to every session a different ‚ÄústartNonce‚Äù (AKA extraNonce).
For this purpose the <code class="language-plaintext highlighter-rouge">notification</code> method <code class="language-plaintext highlighter-rouge">mining.set</code> allows to set (on miner‚Äôs side) only those params which change less frequently. The server will keep track of seed, target and extraNonce at session level and will push a notification <code class="language-plaintext highlighter-rouge">mining.set</code> whenever any (or all) of those values change to the connected miner.</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mining.set"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"epoch"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"dc"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"target"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0112e0be826d694b2e62d01511f12a6061fbaec8bc02357593e70e52ba"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"algo"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ethash"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"extranonce"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"af4c"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>At the beginning of each <code class="language-plaintext highlighter-rouge">session</code> the server <strong>MUST</strong> send this notification before any <code class="language-plaintext highlighter-rouge">mining.notify</code>. All values passed by this notification will be valid for all <strong>NEXT</strong> jobs until a new <code class="language-plaintext highlighter-rouge">mining.set</code> notification overwrites them. Description of members is as follows:</p>
<ul>
<li>optional <code class="language-plaintext highlighter-rouge">epoch</code> (hex) : unlike all actual Stratum implementations the server should inform the client of the epoch number instead of passing the seed hash. This is enforced by two reasons : the main one is that client has only one way to compute the epoch number and this is by a linear search from epoch 0 iteratively trying increasing epochs till the hash matches the seed hash. Second reason is that epoch number is more concise than seed hash. In the end the seed hash is only transmitted to inform the client about the epoch and is not involved in the mining algorithm.</li>
<li>optional <code class="language-plaintext highlighter-rouge">target</code> (hex) : this is the boundary hash already adjusted for pool difficulty. Unlike in EthereumStratum/1.0.0, which provides a <code class="language-plaintext highlighter-rouge">mining.set_difficulty</code> notification of an <em>index of difficulty</em>, the proponent opt to pass directly the boundary hash. If omitted the client <strong>MUST</strong> assume a boundary of <code class="language-plaintext highlighter-rouge">"0x00000000ffff0000000000000000000000000000000000000000000000000000"</code></li>
<li>optional <code class="language-plaintext highlighter-rouge">algo</code> (string) : the algorithm the miner is expected to mine on. If omitted the client <strong>MUST</strong> assume <code class="language-plaintext highlighter-rouge">"algo": "ethash"</code></li>
<li>optional <code class="language-plaintext highlighter-rouge">extranonce</code> (hex) : a starting search segment nonce assigned by server to clients so they possibly do not overlap their search segments. If server wants to ‚Äúcancel‚Äù a previously set extranonce it must pass this member valued as an empty string.</li>
</ul>
<p>Whenever the server detects that one, or two, or three or four values change within the session, the server will issue a notification with one, or two or three or four members in the <code class="language-plaintext highlighter-rouge">param</code> object. For this reason on each <strong>new</strong> session the server <strong>MUST</strong> pass all four members. As a consequence the miner is instructed to adapt those values on <strong>next</strong> job which gets notified.
The new <code class="language-plaintext highlighter-rouge">algo</code> member is defined to be prepared for possible presence of algorithm variants to ethash, namely ethash1a or ProgPow.
Pools providing multicoin switching will take care to send a new <code class="language-plaintext highlighter-rouge">mining.set</code> to miners before pushing any job after a switch.
The client which can‚Äôt support the data provided in the <code class="language-plaintext highlighter-rouge">mining.set</code> notification <strong>MAY</strong> close connection or stay idle till new values satisfy it‚Äôs configuration (see <code class="language-plaintext highlighter-rouge">mining.noop</code>).
All client‚Äôs implementations <strong>MUST</strong> be prepared to accept new extranonces during the session: unlike in EthereumStratum/1.0.0 the optional client advertisement <code class="language-plaintext highlighter-rouge">mining.extranonce.subscribe</code> is now implicit and mandatory.</p>
<p>The miner receiving the <code class="language-plaintext highlighter-rouge">extranonce</code> <strong>MUST</strong> initialize the search segment for next job resizing the extranonce to a hex of 16 bytes thus appending as many zeroes as needed.
Extranonce ‚Äúaf4c‚Äù means ‚Äú<em>search segment of next jobs starts from 0xaf4c000000000000</em>‚Äù
If <code class="language-plaintext highlighter-rouge">extranonce</code> is valued to an empty string, or it‚Äôs never been set within the session scope, the client is free pick any starting point of it‚Äôs own search segment on subsequent <code class="language-plaintext highlighter-rouge">mining.notify</code> jobs.</p>
<h3 id="a-detail-of-extranonce">
<a href="#a-detail-of-extranonce" class="anchor-link"></a> A detail of ‚Äúextranonce‚Äù
</h3>
<p>Miners connected to a pool might likely process the very same nonces thus wasting a lot of duplicate jobs. A <code class="language-plaintext highlighter-rouge">nonce</code> is any valid number which, applied to algorithm and job specifications, produces a result which is below a certain target. For every job pushed by server to client(s) there are 2^64 possible nonces to test.</p>
<p>To be noted that :</p>
<ul>
<li>Any nonce in the 2^64 has the very same possibility to be the right one.</li>
<li>A certain hashing job can be solved by more than one nonce</li>
</ul>
<p>Every ‚Äútest‚Äù over a number is called a hash. Assuming a miner should receive a job for each block and considering the actual average block time of 15 seconds that would mean a miner should try</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ( 2^64 / 15 ) / 1T ~ 1,229,782.94 TeraHashes per second
</code></pre></div></div>
<p>This computation capacity is well beyond any miner on the market (including ASICs). For this reason single miners can process only small chunks (segments) of this humongous range. The way miners pick the segments to search on is beyond the scope of this work. Fact is as miners are not coordinated there is no knowledge - for a single miner - of segments picked by other miners.
Extranonce concept is here to mitigate this possibility of duplicate jobs charging the server (the work provider) to give miners, at the maximum possible extent, different segments to search on.</p>
<p>Giving the above assumptions we can depict a nonce as any number in the hex range :</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Min 0x0000000000000000
  Max 0xffffffffffffffff
</code></pre></div></div>
<p><em>the prefix 0x is voluntarily inserted here only to give a better visual representation</em>.</p>
<p>The <code class="language-plaintext highlighter-rouge">extranonce</code> is, at it‚Äôs basics, the message of the server saying the client ‚Äú<em>I give you the first number to start search from</em>‚Äù. More in detail the <code class="language-plaintext highlighter-rouge">extranoce</code> is the leftmost part of that number.
Assume a pool notifies the client the usage of extranonce <code class="language-plaintext highlighter-rouge">ab5d</code> this means the client will see it‚Äôs search segment narrowed as</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Min 0xab5d000000000000
  Max 0xab5dffffffffffff
</code></pre></div></div>
<p>Pushing an extranonce of 4 bytes (like in the example) will give pool the possibility to separate segment 65535 different miners ( or if you prefer 0xffff miners ) while leaving the miner still a segment of 2^48 possible nonces to search on.
Recalculating, as above, the computation capacity needed to search this segment we get</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ( 2^48 / 15 ) / 1T ~ 18.76 TeraHashes per second
</code></pre></div></div>
<p>Which is still a wide segment where miners can randomly (or using other ergodic techniques) pick their internal search segments.</p>
<p>Extranonce <strong>MUST</strong> be passed with all relevant bytes (no omission of left zeroes) for a specific reason. Assume an extranonce of ‚Äú01ac‚Äù : it has the same decimal value of ‚Äú1ac‚Äù but the number of bytes changes thus changing available search segment</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  When "01ac"               When "1ac"
  Segment is                Segment is
  Min  0x01ac000000000000   Min  0x1ac0000000000000
  Max  0x01acffffffffffff   Max  0x1acfffffffffffff
</code></pre></div></div>
<p>As you can see resulting segments are quite different</p>
<p>This all said pools (server), when making use of extranonce, <strong>MUST</strong> observe a maximum length of 6 bytes (hex).</p>
<h3 id="jobs-notification">
<a href="#jobs-notification" class="anchor-link"></a> Jobs notification
</h3>
<p>When available server will dispatch jobs to connected miners issuing a <code class="language-plaintext highlighter-rouge">mining.notify</code> notification.</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mining.notify"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"bf0488aa"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"6526d5"</span><span class="w">
      </span><span class="s2">"645cf20198c2f3861e947d4f67e3ab63b7b2e24dcc9095bd9123e7b33371f6cc"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"0"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">params</code> member is made of 4 mandatory elements:</p>
<ul>
<li>1st element is jobId as specified by pool. To reduce the amount of data sent over the wire pools <strong>SHOULD</strong> keep their job IDs as concise as possible. Pushing a Job id which is identical to headerhash is a bad practice and is highly discouraged.</li>
<li>2nd element is the hex number of the block id</li>
<li>3rd element is the headerhash.</li>
<li>4th element is an hex boolean indicating whether or not eventually found shares from previous jobs will be accounted for sure as stale.</li>
</ul>
<h3 id="solution-submission">
<a href="#solution-submission" class="anchor-link"></a> Solution submission
</h3>
<p>When a miner finds a solution for a job he is mining on it sends a <code class="language-plaintext highlighter-rouge">mining.submit</code> request to server.</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w">
  </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mining.submit"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"bf0488aa"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"68765fccd712"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"w-123"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>First element of <code class="language-plaintext highlighter-rouge">params</code> array is the jobId this solution refers to (as sent in the <code class="language-plaintext highlighter-rouge">mining.notify</code> message from the server). Second element is the <code class="language-plaintext highlighter-rouge">miner nonce</code> as hex. Third element is the token given to the worker previous <code class="language-plaintext highlighter-rouge">mining.authorize</code> request. Any <code class="language-plaintext highlighter-rouge">mining.submit</code> request bound to a worker which was not successfully authorized - i.e. the token does not exist in the session - <strong>MUST</strong> be rejected.</p>
<p>You‚Äôll notice in the sample above the <code class="language-plaintext highlighter-rouge">miner nonce</code> is only 12 bytes wide (should be 16). Why ?
That‚Äôs because in the previous <code class="language-plaintext highlighter-rouge">mining.set</code> the server has set an <code class="language-plaintext highlighter-rouge">extranonce</code> of <code class="language-plaintext highlighter-rouge">af4c</code>. This means the full nonce is <code class="language-plaintext highlighter-rouge">af4c68765fccd712</code>
In presence of extranonce the miner <strong>MUST</strong> submit only the chars to append to the extranonce to build the final hex value. If no extranonce is set for the session or for the work the miner <strong>MUST</strong> send all 16 bytes.</p>
<p>It‚Äôs server duty to keep track of the tuples <code class="language-plaintext highlighter-rouge">job ids &lt;-&gt; extranonces</code> per session.</p>
<p>When the server receives this request it either responds success using the short form</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>or, in case of any error or condition with a detailed error object</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">404</span><span class="p">,</span><span class="w">
      </span><span class="nl">"message"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Job not found"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>Client <strong>should</strong> treat errors as ‚Äúsoft‚Äù errors (stales) or ‚Äúhard‚Äù (bad nonce computation, job not found etc.). Errors in 5xx range are server errors and suggest the miner to abandon the connection and switch to a failover.</p>
<h3 id="hashrate">
<a href="#hashrate" class="anchor-link"></a> Hashrate
</h3>
<p>Most pools offer statistic information, in form of graphs or by API calls, about the calculated hashrate expressed by the miner while miners like to compare this data with the hashrate they read on their devices. Communication about parties of these information have never been coded in Stratum and most pools adopt the method from getWork named <code class="language-plaintext highlighter-rouge">eth_submitHashrate</code>.
In this document we propose an official implementation of the <code class="language-plaintext highlighter-rouge">mining.hashrate</code> request.
This method behaves differently when issued from client or from server.</p>
<h4 id="client-communicates-its-hashrate-to-server">
<a href="#client-communicates-its-hashrate-to-server" class="anchor-link"></a> Client communicates it‚Äôs hashrate to server.
</h4>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
  </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mining.hashrate"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"500000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"w-123"</span><span class="w">
      </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>where <code class="language-plaintext highlighter-rouge">params</code> is an array made of two elements: the first is a hexadecimal string representation (32 bytes) of the hashrate the miner reads on it‚Äôs devices and the latter is the authorization token issued to worker this hashrate is refers to (see above for <code class="language-plaintext highlighter-rouge">mining.authorization</code>).
Server <strong>MUST</strong> respond back with either an aknowledgment message</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>Optionally the server can reply back reporting it‚Äôs findings about calculated hashrate <strong>for the same worker</strong>.</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
  </span><span class="nl">"result"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"4f0000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"w-123"</span><span class="w">
      </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>In case of errors - for example when the client submits too frequently - with</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">220</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enhance your calm. Too many requests"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<h4 id="server-communicates-hashrate-to-client">
<a href="#server-communicates-hashrate-to-client" class="anchor-link"></a> Server communicates hashrate to client
</h4>
<p>Optionally the server can <strong>notify</strong> client about it‚Äôs overall performance (according to schedule set on server) with a <code class="language-plaintext highlighter-rouge">mining.hashrate</code> notification composed like this</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mining.hashrate"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
      </span><span class="nl">"hr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accepted"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">3692</span><span class="p">,</span><span class="mi">20</span><span class="p">],</span><span class="w">
      </span><span class="nl">"rejected"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>Where <code class="language-plaintext highlighter-rouge">params</code> is an object which holds these members for values of the <strong>whole session</strong>:</p>
<ul>
<li><code class="language-plaintext highlighter-rouge">interval</code> (number) the width, in minutes, of the observation window. ‚Äú<em>in the last x minutes we calculated ‚Ä¶</em>‚Äù</li>
<li><code class="language-plaintext highlighter-rouge">hr</code> (hex) representation of the hashrate the pool has calculated for the miner</li>
<li><code class="language-plaintext highlighter-rouge">accepted</code> is an array of two number elements : the first is the overall count of accepted shares and the second is the number of stale shares. The array must be interpreted as ‚Äútotal accepted of which x are stale‚Äù</li>
<li><code class="language-plaintext highlighter-rouge">rejected</code> (number) the overall number of rejected shares</li>
</ul>
<p>The client will eventually take internal actions to reset/restart it‚Äôs workers.</p>
<h2 id="copyright">
<a href="#copyright" class="anchor-link"></a> Copyright
</h2>
<p>Copyright and related rights waived via <a href="/LICENSE">CC0</a>.</p>
<h2>Citation</h2>
<p>Please cite this document as:</p>
<p><a href="https://github.com/AndreaLanfranchi">Andrea Lanfranchi</a>, <a href="https://github.com/chfast">Pawel Bylica</a>, <a href="https://github.com/MariusVanDerWijden">Marius Van Der Wijden</a>, "EIP-1571: EthereumStratum/2.0.0 [DRAFT]," <em>Ethereum Improvement Proposals</em>, no. 1571, November 2018. [Online serial]. Available: https://eips.ethereum.org/EIPS/eip-1571.</p>
</div>
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "TechArticle",
    "headline": "EIP-1571: EthereumStratum/2.0.0 [DRAFT]",
    "author": "Andrea Lanfranchi (@AndreaLanfranchi), Pawel Bylica (@chfast), Marius Van Der Wijden (@MariusVanDerWijden)",
    "name": "EIP-1571: EthereumStratum/2.0.0 [DRAFT]",
    "dateCreated": "2018-11-09",
    "datePublished": "2018-11-09",

    "discussionUrl": "https://github.com/AndreaLanfranchi/EthereumStratum-2.0.0/issues",
    
    "inLanguage": "en-US",
    "license": "#copyright",
    "copyrightYear": "2018"
  }
</script>
</div>
</main><footer class="site-footer h-card">
<data class="u-url" href="/"></data>
<div class="wrapper">
<h2 class="footer-heading">Ethereum Improvement Proposals</h2>
<div class="footer-col-wrapper">
<div class="footer-col footer-col-1">
<ul class="contact-list">
<li class="p-name">Ethereum Improvement Proposals</li></ul>
</div>
<div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/ethereum/EIPs"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">ethereum/EIPs</span></a></li></ul>
</div>
<div class="footer-col footer-col-3">
<p>Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards.</p>
</div>
</div>
</div>
</footer>
</body>
</html>
