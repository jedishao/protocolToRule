<h2 id="specification">
<a href="#specification" class="anchor-link"></a> Specification
</h2>
<h3 id="erc777token-token-contract">
<a href="#erc777token-token-contract" class="anchor-link"></a> ERC777Token (Token Contract)
</h3>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">interface</span> <span class="n">ERC777Token</span> <span class="p">{</span>
    <span class="k">function</span> <span class="n">name</span><span class="p">()</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">string</span> <span class="k">memory</span><span class="p">);</span>
    <span class="k">function</span> <span class="n">symbol</span><span class="p">()</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">string</span> <span class="k">memory</span><span class="p">);</span>
    <span class="k">function</span> <span class="n">totalSupply</span><span class="p">()</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">uint256</span><span class="p">);</span>
    <span class="k">function</span> <span class="n">balanceOf</span><span class="p">(</span><span class="kt">address</span> <span class="n">holder</span><span class="p">)</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">uint256</span><span class="p">);</span>
    <span class="k">function</span> <span class="n">granularity</span><span class="p">()</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">uint256</span><span class="p">);</span>

    <span class="k">function</span> <span class="n">defaultOperators</span><span class="p">()</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">address</span><span class="p">[]</span> <span class="k">memory</span><span class="p">);</span>
    <span class="k">function</span> <span class="n">isOperatorFor</span><span class="p">(</span>
        <span class="kt">address</span> <span class="n">operator</span><span class="p">,</span>
        <span class="kt">address</span> <span class="n">holder</span>
    <span class="p">)</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">);</span>
    <span class="k">function</span> <span class="n">authorizeOperator</span><span class="p">(</span><span class="kt">address</span> <span class="n">operator</span><span class="p">)</span> <span class="k">external</span><span class="p">;</span>
    <span class="k">function</span> <span class="n">revokeOperator</span><span class="p">(</span><span class="kt">address</span> <span class="n">operator</span><span class="p">)</span> <span class="k">external</span><span class="p">;</span>

    <span class="k">function</span> <span class="nb">send</span><span class="p">(</span><span class="kt">address</span> <span class="n">to</span><span class="p">,</span> <span class="kt">uint256</span> <span class="n">amount</span><span class="p">,</span> <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">data</span><span class="p">)</span> <span class="k">external</span><span class="p">;</span>
    <span class="k">function</span> <span class="n">operatorSend</span><span class="p">(</span>
        <span class="kt">address</span> <span class="n">from</span><span class="p">,</span>
        <span class="kt">address</span> <span class="n">to</span><span class="p">,</span>
        <span class="kt">uint256</span> <span class="n">amount</span><span class="p">,</span>
        <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">data</span><span class="p">,</span>
        <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">operatorData</span>
    <span class="p">)</span> <span class="k">external</span><span class="p">;</span>

    <span class="k">function</span> <span class="n">burn</span><span class="p">(</span><span class="kt">uint256</span> <span class="n">amount</span><span class="p">,</span> <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">data</span><span class="p">)</span> <span class="k">external</span><span class="p">;</span>
    <span class="k">function</span> <span class="n">operatorBurn</span><span class="p">(</span>
        <span class="kt">address</span> <span class="n">from</span><span class="p">,</span>
        <span class="kt">uint256</span> <span class="n">amount</span><span class="p">,</span>
        <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">data</span><span class="p">,</span>
        <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">operatorData</span>
    <span class="p">)</span> <span class="k">external</span><span class="p">;</span>

    <span class="k">event</span> <span class="n">Sent</span><span class="p">(</span>
        <span class="kt">address</span> <span class="k">indexed</span> <span class="n">operator</span><span class="p">,</span>
        <span class="kt">address</span> <span class="k">indexed</span> <span class="n">from</span><span class="p">,</span>
        <span class="kt">address</span> <span class="k">indexed</span> <span class="n">to</span><span class="p">,</span>
        <span class="kt">uint256</span> <span class="n">amount</span><span class="p">,</span>
        <span class="kt">bytes</span> <span class="n">data</span><span class="p">,</span>
        <span class="kt">bytes</span> <span class="n">operatorData</span>
    <span class="p">);</span>
    <span class="k">event</span> <span class="n">Minted</span><span class="p">(</span>
        <span class="kt">address</span> <span class="k">indexed</span> <span class="n">operator</span><span class="p">,</span>
        <span class="kt">address</span> <span class="k">indexed</span> <span class="n">to</span><span class="p">,</span>
        <span class="kt">uint256</span> <span class="n">amount</span><span class="p">,</span>
        <span class="kt">bytes</span> <span class="n">data</span><span class="p">,</span>
        <span class="kt">bytes</span> <span class="n">operatorData</span>
    <span class="p">);</span>
    <span class="k">event</span> <span class="n">Burned</span><span class="p">(</span>
        <span class="kt">address</span> <span class="k">indexed</span> <span class="n">operator</span><span class="p">,</span>
        <span class="kt">address</span> <span class="k">indexed</span> <span class="n">from</span><span class="p">,</span>
        <span class="kt">uint256</span> <span class="n">amount</span><span class="p">,</span>
        <span class="kt">bytes</span> <span class="n">data</span><span class="p">,</span>
        <span class="kt">bytes</span> <span class="n">operatorData</span>
    <span class="p">);</span>
    <span class="k">event</span> <span class="n">AuthorizedOperator</span><span class="p">(</span>
        <span class="kt">address</span> <span class="k">indexed</span> <span class="n">operator</span><span class="p">,</span>
        <span class="kt">address</span> <span class="k">indexed</span> <span class="n">holder</span>
    <span class="p">);</span>
    <span class="k">event</span> <span class="n">RevokedOperator</span><span class="p">(</span><span class="kt">address</span> <span class="k">indexed</span> <span class="n">operator</span><span class="p">,</span> <span class="kt">address</span> <span class="k">indexed</span> <span class="n">holder</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>
<p>The token contract MUST implement the above interface.
The implementation MUST follow the specifications described below.</p>
<p>The token contract MUST register the <code class="language-plaintext highlighter-rouge">ERC777Token</code> interface with its own address via <a href="/EIPS/eip-1820">ERC-1820</a>.</p>
<blockquote>
<p>This is done by calling the <code class="language-plaintext highlighter-rouge">setInterfaceImplementer</code> function on the <a href="/EIPS/eip-1820">ERC-1820</a> registry
with the token contract address as both the address and the implementer
and the <code class="language-plaintext highlighter-rouge">keccak256</code> hash of <code class="language-plaintext highlighter-rouge">ERC777Token</code> (<code class="language-plaintext highlighter-rouge">0xac7fbab5f54a3ca8194167523c6753bfeb96a445279294b6125b68cce2177054</code>)
as the interface hash.</p>
</blockquote>
<p>If the contract has a switch to enable or disable ERC777 functions, every time the switch is triggered,
the token MUST register or unregister the <code class="language-plaintext highlighter-rouge">ERC777Token</code> interface for its own address accordingly via ERC1820.
Unregistering implies calling the <code class="language-plaintext highlighter-rouge">setInterfaceImplementer</code> with the token contract address as the address,
the <code class="language-plaintext highlighter-rouge">keccak256</code> hash of <code class="language-plaintext highlighter-rouge">ERC777Token</code> as the interface hash and <code class="language-plaintext highlighter-rouge">0x0</code> as the implementer.
(See <a href="/EIPS/eip-1820#set-an-interface-for-an-address">Set An Interface For An Address</a> in <a href="/EIPS/eip-1820">ERC-1820</a> for more details.)</p>
<p>When interacting with the token contract, all amounts and balances MUST be unsigned integers.
I.e. internally, all values are stored as a denomination of 1E-18 of a token.
The display denomination—to display any amount to the end user—MUST
be 10<sup>18</sup> of the internal denomination.</p>
<p>In other words, the internal denomination is similar to a wei
and the display denomination is similar to an ether.
It is equivalent to an <a href="/EIPS/eip-20">ERC-20</a>’s <code class="language-plaintext highlighter-rouge">decimals</code> function returning <code class="language-plaintext highlighter-rouge">18</code>.
E.g. if a token contract returns a balance of <code class="language-plaintext highlighter-rouge">500,000,000,000,000,000</code> (0.5×10<sup>18</sup>) for a user,
the user interface MUST show <code class="language-plaintext highlighter-rouge">0.5</code> tokens to the user.
If the user wishes to send <code class="language-plaintext highlighter-rouge">0.3</code> tokens,
the contract MUST be called with an amount of <code class="language-plaintext highlighter-rouge">300,000,000,000,000,000</code> (0.3×10<sup>18</sup>).</p>
<p>User Interfaces which are generated programmatically from the ABI of the token contract
MAY use and display the internal denomination.
But this MUST be made clear, for example by displaying the <code class="language-plaintext highlighter-rouge">uint256</code> type.</p>
<h4 id="view-functions">
<a href="#view-functions" class="anchor-link"></a> <strong>View Functions</strong>
</h4>
<p>The <code class="language-plaintext highlighter-rouge">view</code> functions detailed below MUST be implemented.</p>
<p><strong><code class="language-plaintext highlighter-rouge">name</code> function</strong></p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">name</span><span class="p">()</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">string</span> <span class="k">memory</span><span class="p">)</span>
</code></pre></div></div>
<p>Get the name of the token, e.g., <code class="language-plaintext highlighter-rouge">"MyToken"</code>.</p>
<blockquote>
<p><small><strong>identifier:</strong> <code class="language-plaintext highlighter-rouge">06fdde03</code></small><br />
<small><strong>returns:</strong> Name of the token.</small></p>
</blockquote>
<p><strong><code class="language-plaintext highlighter-rouge">symbol</code> function</strong></p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">symbol</span><span class="p">()</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">string</span> <span class="k">memory</span><span class="p">)</span>
</code></pre></div></div>
<p>Get the symbol of the token, e.g., <code class="language-plaintext highlighter-rouge">"MYT"</code>.</p>
<blockquote>
<p><small><strong>identifier:</strong> <code class="language-plaintext highlighter-rouge">95d89b41</code></small><br />
<small><strong>returns:</strong> Symbol of the token.</small></p>
</blockquote>
<p><strong><code class="language-plaintext highlighter-rouge">totalSupply</code> function</strong></p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">totalSupply</span><span class="p">()</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">uint256</span><span class="p">)</span>
</code></pre></div></div>
<p>Get the total number of minted tokens.</p>
<p><em>NOTE</em>: The total supply MUST be equal to the sum of the balances of all addresses—as
returned by the <code class="language-plaintext highlighter-rouge">balanceOf</code> function.</p>
<p><em>NOTE</em>: The total supply MUST be equal to the sum of all the minted tokens
as defined in all the <code class="language-plaintext highlighter-rouge">Minted</code> events minus the sum of all the burned tokens as defined in all the <code class="language-plaintext highlighter-rouge">Burned</code> events.</p>
<blockquote>
<p><small><strong>identifier:</strong> <code class="language-plaintext highlighter-rouge">18160ddd</code></small><br />
<small><strong>returns:</strong> Total supply of tokens currently in circulation.</small></p>
</blockquote>
<p><strong><code class="language-plaintext highlighter-rouge">balanceOf</code> function</strong></p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">balanceOf</span><span class="p">(</span><span class="kt">address</span> <span class="n">holder</span><span class="p">)</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">uint256</span><span class="p">)</span>
</code></pre></div></div>
<p>Get the balance of the account with address <code class="language-plaintext highlighter-rouge">holder</code>.</p>
<p>The balance MUST be zero (<code class="language-plaintext highlighter-rouge">0</code>) or higher.</p>
<blockquote>
<p><small><strong>identifier:</strong> <code class="language-plaintext highlighter-rouge">70a08231</code></small><br />
<small><strong>parameters</strong></small><br />
<small><code class="language-plaintext highlighter-rouge">holder</code>: Address for which the balance is returned.</small></p>
<p><small><strong>returns:</strong> Amount of tokens held by <code class="language-plaintext highlighter-rouge">holder</code> in the token contract.</small></p>
</blockquote>
<p><strong><code class="language-plaintext highlighter-rouge">granularity</code> function</strong></p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">granularity</span><span class="p">()</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">uint256</span><span class="p">)</span>
</code></pre></div></div>
<p>Get the smallest part of the token that’s not divisible.</p>
<p>In other words, the granularity is the smallest amount of tokens (in the internal denomination)
which MAY be minted, sent or burned at any time.</p>
<p>The following rules MUST be applied regarding the <em>granularity</em>:</p>
<ul>
<li>
<p>The <em>granularity</em> value MUST be set at creation time.</p>
</li>
<li>
<p>The <em>granularity</em> value MUST NOT be changed, ever.</p>
</li>
<li>
<p>The <em>granularity</em> value MUST be greater than or equal to <code class="language-plaintext highlighter-rouge">1</code>.</p>
</li>
<li>
<p>All balances MUST be a multiple of the granularity.</p>
</li>
<li>
<p>Any amount of tokens (in the internal denomination) minted, sent or burned
MUST be a multiple of the <em>granularity</em> value.</p>
</li>
<li>
<p>Any operation that would result in a balance that’s not a multiple of the <em>granularity</em> value
MUST be considered invalid, and the transaction MUST <code class="language-plaintext highlighter-rouge">revert</code>.</p>
</li>
</ul>
<p><em>NOTE</em>: Most tokens SHOULD be fully partition-able.
I.e., this function SHOULD return <code class="language-plaintext highlighter-rouge">1</code> unless there is a good reason for not allowing any fraction of the token.</p>
<blockquote>
<p><small><strong>identifier:</strong> <code class="language-plaintext highlighter-rouge">556f0dc7</code></small><br />
<small><strong>returns:</strong> The smallest non-divisible part of the token.</small></p>
</blockquote>
<p><em>NOTE</em>: <a href="#defaultOperators"><code class="language-plaintext highlighter-rouge">defaultOperators</code></a> and <a href="#isOperatorFor"><code class="language-plaintext highlighter-rouge">isOperatorFor</code></a> are also <code class="language-plaintext highlighter-rouge">view</code> functions,
defined under the <a href="#operators">operators</a> for consistency.</p>
<p><em><a href="/EIPS/eip-20">ERC-20</a> compatibility requirement</em>:<br />
The decimals of the token MUST always be <code class="language-plaintext highlighter-rouge">18</code>.
For a <em>pure</em> ERC777 token the <a href="/EIPS/eip-20">ERC-20</a> <code class="language-plaintext highlighter-rouge">decimals</code> function is OPTIONAL,
and its existence SHALL NOT be relied upon when interacting with the token contract.
(The decimal value of <code class="language-plaintext highlighter-rouge">18</code> is implied.)
For an <a href="/EIPS/eip-20">ERC-20</a> compatible token, the <code class="language-plaintext highlighter-rouge">decimals</code> function is REQUIRED and MUST return <code class="language-plaintext highlighter-rouge">18</code>.
(In <a href="/EIPS/eip-20">ERC-20</a>, the <code class="language-plaintext highlighter-rouge">decimals</code> function is OPTIONAL.
If the function is not present, the <code class="language-plaintext highlighter-rouge">decimals</code> value is not clearly defined and may be assumed to be <code class="language-plaintext highlighter-rouge">0</code>.
Hence for compatibility reasons, <code class="language-plaintext highlighter-rouge">decimals</code> MUST be implemented for <a href="/EIPS/eip-20">ERC-20</a> compatible tokens.)</p>
<h4 id="operators">
<a href="#operators" class="anchor-link"></a> <strong>Operators</strong>
</h4>
<p>An <code class="language-plaintext highlighter-rouge">operator</code> is an address which is allowed to send and burn tokens on behalf of some <em>holder</em>.</p>
<p>When an address becomes an <em>operator</em> for a <em>holder</em>, an <code class="language-plaintext highlighter-rouge">AuthorizedOperator</code> event MUST be emitted.
The <code class="language-plaintext highlighter-rouge">AuthorizedOperator</code>’s <code class="language-plaintext highlighter-rouge">operator</code> (topic 1) and <code class="language-plaintext highlighter-rouge">holder</code> (topic 2)
MUST be the addresses of the <em>operator</em> and the <em>holder</em> respectively.</p>
<p>When a <em>holder</em> revokes an <em>operator</em>, a <code class="language-plaintext highlighter-rouge">RevokedOperator</code> event MUST be emitted.
The <code class="language-plaintext highlighter-rouge">RevokedOperator</code>’s <code class="language-plaintext highlighter-rouge">operator</code> (topic 1) and <code class="language-plaintext highlighter-rouge">holder</code> (topic 2)
MUST be the addresses of the <em>operator</em> and the <em>holder</em> respectively.</p>
<p><em>NOTE</em>: A <em>holder</em> MAY have multiple <em>operators</em> at the same time.</p>
<p>The token MAY define <em>default operators</em>.
A <em>default operator</em> is an implicitly authorized <em>operator</em> for all <em>holders</em>.
<code class="language-plaintext highlighter-rouge">AuthorizedOperator</code> events MUST NOT be emitted when defining the <em>default operators</em>.
The rules below apply to <em>default operators</em>:</p>
<ul>
<li>
<p>The token contract MUST define <em>default operators</em> at creation time.</p>
</li>
<li>
<p>The <em>default operators</em> MUST be invariants. I.e., the token contract MUST NOT add or remove <em>default operators</em> ever.</p>
</li>
<li>
<p><code class="language-plaintext highlighter-rouge">AuthorizedOperator</code> events MUST NOT be emitted when defining <em>default operators</em>.</p>
</li>
<li>
<p>A <em>holder</em> MUST be allowed to revoke a <em>default operator</em>
(unless the <em>holder</em> is the <em>default operator</em> in question).</p>
</li>
<li>
<p>A <em>holder</em> MUST be allowed to re-authorize a previously revoked <em>default operator</em>.</p>
</li>
<li>
<p>When a <em>default operator</em> is explicitly authorized or revoked for a specific <em>holder</em>,
an <code class="language-plaintext highlighter-rouge">AuthorizedOperator</code> or <code class="language-plaintext highlighter-rouge">RevokedOperator</code> event (respectively) MUST be emitted.</p>
</li>
</ul>
<p>The following rules apply to any <em>operator</em>:</p>
<ul>
<li>
<p>An address MUST always be an <em>operator</em> for itself. Hence an address MUST NOT ever be revoked as its own <em>operator</em>.</p>
</li>
<li>
<p>If an address is an <em>operator</em> for a <em>holder</em>, <code class="language-plaintext highlighter-rouge">isOperatorFor</code> MUST return <code class="language-plaintext highlighter-rouge">true</code>.</p>
</li>
<li>
<p>If an address is not an <em>operator</em> for a <em>holder</em>, <code class="language-plaintext highlighter-rouge">isOperatorFor</code> MUST return <code class="language-plaintext highlighter-rouge">false</code>.</p>
</li>
<li>
<p>The token contract MUST emit an <code class="language-plaintext highlighter-rouge">AuthorizedOperator</code> event with the correct values
when a <em>holder</em> authorizes an address as its <em>operator</em> as defined in the
<a href="#authorizedoperator"><code class="language-plaintext highlighter-rouge">AuthorizedOperator</code> Event</a>.</p>
</li>
<li>
<p>The token contract MUST emit a <code class="language-plaintext highlighter-rouge">RevokedOperator</code> event with the correct values
when a <em>holder</em> revokes an address as its <em>operator</em> as defined in the
<a href="#revokedoperator"><code class="language-plaintext highlighter-rouge">RevokedOperator</code> Event</a>.</p>
</li>
</ul>
<p><em>NOTE</em>: A <em>holder</em> MAY authorize an already authorized <em>operator</em>.
An <code class="language-plaintext highlighter-rouge">AuthorizedOperator</code> MUST be emitted each time.</p>
<p><em>NOTE</em>: A <em>holder</em> MAY revoke an already revoked <em>operator</em>.
A <code class="language-plaintext highlighter-rouge">RevokedOperator</code> MUST be emitted each time.</p>
<p><strong><code class="language-plaintext highlighter-rouge">AuthorizedOperator</code> event</strong> <a id="authorizedoperator"></a></p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">event</span> <span class="n">AuthorizedOperator</span><span class="p">(</span><span class="kt">address</span> <span class="k">indexed</span> <span class="n">operator</span><span class="p">,</span> <span class="kt">address</span> <span class="k">indexed</span> <span class="n">holder</span><span class="p">)</span>
</code></pre></div></div>
<p>Indicates the authorization of <code class="language-plaintext highlighter-rouge">operator</code> as an <em>operator</em> for <code class="language-plaintext highlighter-rouge">holder</code>.</p>
<p><em>NOTE</em>: This event MUST NOT be emitted outside of an <em>operator</em> authorization process.</p>
<blockquote>
<p><small><strong>parameters</strong></small><br />
<small><code class="language-plaintext highlighter-rouge">operator</code>: Address which became an <em>operator</em> of <code class="language-plaintext highlighter-rouge">holder</code>.</small><br />
<small><code class="language-plaintext highlighter-rouge">holder</code>: Address of a <em>holder</em> which authorized the <code class="language-plaintext highlighter-rouge">operator</code> address as an <em>operator</em>.</small></p>
</blockquote>
<p><strong><code class="language-plaintext highlighter-rouge">RevokedOperator</code> event</strong> <a id="revokedoperator"></a></p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">event</span> <span class="n">RevokedOperator</span><span class="p">(</span><span class="kt">address</span> <span class="k">indexed</span> <span class="n">operator</span><span class="p">,</span> <span class="kt">address</span> <span class="k">indexed</span> <span class="n">holder</span><span class="p">)</span>
</code></pre></div></div>
<p>Indicates the revocation of <code class="language-plaintext highlighter-rouge">operator</code> as an <em>operator</em> for <code class="language-plaintext highlighter-rouge">holder</code>.</p>
<p><em>NOTE</em>: This event MUST NOT be emitted outside of an <em>operator</em> revocation process.</p>
<blockquote>
<p><small><strong>parameters</strong></small><br />
<small><code class="language-plaintext highlighter-rouge">operator</code>: Address which was revoked as an <em>operator</em> of <code class="language-plaintext highlighter-rouge">holder</code>.</small><br />
<small><code class="language-plaintext highlighter-rouge">holder</code>: Address of a <em>holder</em> which revoked the <code class="language-plaintext highlighter-rouge">operator</code> address as an <em>operator</em>.</small></p>
</blockquote>
<p>The <code class="language-plaintext highlighter-rouge">defaultOperators</code>, <code class="language-plaintext highlighter-rouge">authorizeOperator</code>, <code class="language-plaintext highlighter-rouge">revokeOperator</code> and <code class="language-plaintext highlighter-rouge">isOperatorFor</code> functions described below
MUST be implemented to manage <em>operators</em>.
Token contracts MAY implement other functions to manage <em>operators</em>.</p>
<p><strong><code class="language-plaintext highlighter-rouge">defaultOperators</code> function</strong> <a id="defaultOperators"></a></p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">defaultOperators</span><span class="p">()</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">address</span><span class="p">[]</span> <span class="k">memory</span><span class="p">)</span>
</code></pre></div></div>
<p>Get the list of <em>default operators</em> as defined by the token contract.</p>
<p><em>NOTE</em>: If the token contract does not have any <em>default operators</em>, this function MUST return an empty list.</p>
<blockquote>
<p><small><strong>identifier:</strong> <code class="language-plaintext highlighter-rouge">06e48538</code></small><br />
<small><strong>returns:</strong> List of addresses of all the <em>default operators</em>.</small></p>
</blockquote>
<p><strong><code class="language-plaintext highlighter-rouge">authorizeOperator</code> function</strong></p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">authorizeOperator</span><span class="p">(</span><span class="kt">address</span> <span class="n">operator</span><span class="p">)</span> <span class="k">external</span>
</code></pre></div></div>
<p>Set a third party <code class="language-plaintext highlighter-rouge">operator</code> address as an <em>operator</em> of <code class="language-plaintext highlighter-rouge">msg.sender</code> to send and burn tokens on its behalf.</p>
<p><em>NOTE</em>: The <em>holder</em> (<code class="language-plaintext highlighter-rouge">msg.sender</code>) is always an <em>operator</em> for itself.
This right SHALL NOT be revoked.
Hence this function MUST <code class="language-plaintext highlighter-rouge">revert</code> if it is called to authorize the holder (<code class="language-plaintext highlighter-rouge">msg.sender</code>)
as an <em>operator</em> for itself (i.e. if <code class="language-plaintext highlighter-rouge">operator</code> is equal to <code class="language-plaintext highlighter-rouge">msg.sender</code>).</p>
<blockquote>
<p><small><strong>identifier:</strong> <code class="language-plaintext highlighter-rouge">959b8c3f</code></small><br />
<small><strong>parameters</strong></small><br />
<small><code class="language-plaintext highlighter-rouge">operator</code>: Address to set as an <em>operator</em> for <code class="language-plaintext highlighter-rouge">msg.sender</code>.</small></p>
</blockquote>
<p><strong><code class="language-plaintext highlighter-rouge">revokeOperator</code> function</strong></p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">revokeOperator</span><span class="p">(</span><span class="kt">address</span> <span class="n">operator</span><span class="p">)</span> <span class="k">external</span>
</code></pre></div></div>
<p>Remove the right of the <code class="language-plaintext highlighter-rouge">operator</code> address to be an <em>operator</em> for <code class="language-plaintext highlighter-rouge">msg.sender</code>
and to send and burn tokens on its behalf.</p>
<p><em>NOTE</em>: The <em>holder</em> (<code class="language-plaintext highlighter-rouge">msg.sender</code>) is always an <em>operator</em> for itself.
This right SHALL NOT be revoked.
Hence this function MUST <code class="language-plaintext highlighter-rouge">revert</code> if it is called to revoke the holder (<code class="language-plaintext highlighter-rouge">msg.sender</code>)
as an <em>operator</em> for itself (i.e., if <code class="language-plaintext highlighter-rouge">operator</code> is equal to <code class="language-plaintext highlighter-rouge">msg.sender</code>).</p>
<blockquote>
<p><small><strong>identifier:</strong> <code class="language-plaintext highlighter-rouge">fad8b32a</code></small><br />
<small><strong>parameters</strong></small><br />
<small><code class="language-plaintext highlighter-rouge">operator</code>: Address to rescind as an <em>operator</em> for <code class="language-plaintext highlighter-rouge">msg.sender</code>.</small></p>
</blockquote>
<p><strong><code class="language-plaintext highlighter-rouge">isOperatorFor</code> function</strong> <a id="isOperatorFor"></a></p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">isOperatorFor</span><span class="p">(</span>
    <span class="kt">address</span> <span class="n">operator</span><span class="p">,</span>
    <span class="kt">address</span> <span class="n">holder</span>
<span class="p">)</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">)</span>
</code></pre></div></div>
<p>Indicate whether the <code class="language-plaintext highlighter-rouge">operator</code> address is an <em>operator</em> of the <code class="language-plaintext highlighter-rouge">holder</code> address.</p>
<blockquote>
<p><small><strong>identifier:</strong> <code class="language-plaintext highlighter-rouge">d95b6371</code></small><br />
<small><strong>parameters</strong></small><br />
<small><code class="language-plaintext highlighter-rouge">operator</code>: Address which may be an <em>operator</em> of <code class="language-plaintext highlighter-rouge">holder</code>.</small><br />
<small><code class="language-plaintext highlighter-rouge">holder</code>: Address of a <em>holder</em> which may have the <code class="language-plaintext highlighter-rouge">operator</code> address as an <em>operator</em>.</small></p>
<p><small><strong>returns:</strong> <code class="language-plaintext highlighter-rouge">true</code> if <code class="language-plaintext highlighter-rouge">operator</code> is an <em>operator</em> of <code class="language-plaintext highlighter-rouge">holder</code> and <code class="language-plaintext highlighter-rouge">false</code> otherwise.</small></p>
</blockquote>
<p><em>NOTE</em>: To know which addresses are <em>operators</em> for a given <em>holder</em>,
one MUST call <code class="language-plaintext highlighter-rouge">isOperatorFor</code> with the <em>holder</em> for each <em>default operator</em>
and parse the <code class="language-plaintext highlighter-rouge">AuthorizedOperator</code>, and <code class="language-plaintext highlighter-rouge">RevokedOperator</code> events for the <em>holder</em> in question.</p>
<h4 id="sending-tokens">
<a href="#sending-tokens" class="anchor-link"></a> <strong>Sending Tokens</strong>
</h4>
<p>When an <em>operator</em> sends an <code class="language-plaintext highlighter-rouge">amount</code> of tokens from a <em>holder</em> to a <em>recipient</em>
with the associated <code class="language-plaintext highlighter-rouge">data</code> and <code class="language-plaintext highlighter-rouge">operatorData</code>, the token contract MUST apply the following rules:</p>
<ul>
<li>
<p>Any authorized <em>operator</em> MAY send tokens to any <em>recipient</em> (except to <code class="language-plaintext highlighter-rouge">0x0</code>).</p>
</li>
<li>
<p>The balance of the <em>holder</em> MUST be decreased by the <code class="language-plaintext highlighter-rouge">amount</code>.</p>
</li>
<li>
<p>The balance of the <em>recipient</em> MUST be increased by the <code class="language-plaintext highlighter-rouge">amount</code>.</p>
</li>
<li>
<p>The balance of the <em>holder</em> MUST be greater or equal to the <code class="language-plaintext highlighter-rouge">amount</code>—such
that its resulting balance is greater or equal to zero (<code class="language-plaintext highlighter-rouge">0</code>) after the send.</p>
</li>
<li>
<p>The token contract MUST emit a <code class="language-plaintext highlighter-rouge">Sent</code> event with the correct values as defined in the <a href="#sent"><code class="language-plaintext highlighter-rouge">Sent</code> Event</a>.</p>
</li>
<li>
<p>The <em>operator</em> MAY include information in the <code class="language-plaintext highlighter-rouge">operatorData</code>.</p>
</li>
<li>
<p>The token contract MUST call the <code class="language-plaintext highlighter-rouge">tokensToSend</code> hook of the <em>holder</em>
if the <em>holder</em> registers an <code class="language-plaintext highlighter-rouge">ERC777TokensSender</code> implementation via <a href="/EIPS/eip-1820">ERC-1820</a>.</p>
</li>
<li>
<p>The token contract MUST call the <code class="language-plaintext highlighter-rouge">tokensReceived</code> hook of the <em>recipient</em>
if the <em>recipient</em> registers an <code class="language-plaintext highlighter-rouge">ERC777TokensRecipient</code> implementation via <a href="/EIPS/eip-1820">ERC-1820</a>.</p>
</li>
<li>
<p>The <code class="language-plaintext highlighter-rouge">data</code> and <code class="language-plaintext highlighter-rouge">operatorData</code> MUST be immutable during the entire send process—hence
the same <code class="language-plaintext highlighter-rouge">data</code> and <code class="language-plaintext highlighter-rouge">operatorData</code> MUST be used to call both hooks and emit the <code class="language-plaintext highlighter-rouge">Sent</code> event.</p>
</li>
</ul>
<p>The token contract MUST <code class="language-plaintext highlighter-rouge">revert</code> when sending in any of the following cases:</p>
<ul>
<li>
<p>The <em>operator</em> address is not an authorized operator for the <em>holder</em>.</p>
</li>
<li>
<p>The resulting <em>holder</em> balance or <em>recipient</em> balance after the send
is not a multiple of the <em>granularity</em> defined by the token contract.</p>
</li>
<li>
<p>The <em>recipient</em> is a contract, and it does not implement the <code class="language-plaintext highlighter-rouge">ERC777TokensRecipient</code> interface via <a href="/EIPS/eip-1820">ERC-1820</a>.</p>
</li>
<li>
<p>The address of the <em>holder</em> or the <em>recipient</em> is <code class="language-plaintext highlighter-rouge">0x0</code>.</p>
</li>
<li>
<p>Any of the resulting balances becomes negative, i.e. becomes less than zero (<code class="language-plaintext highlighter-rouge">0</code>).</p>
</li>
<li>
<p>The <code class="language-plaintext highlighter-rouge">tokensToSend</code> hook of the <em>holder</em> <code class="language-plaintext highlighter-rouge">revert</code>s.</p>
</li>
<li>
<p>The <code class="language-plaintext highlighter-rouge">tokensReceived</code> hook of the <em>recipient</em> <code class="language-plaintext highlighter-rouge">revert</code>s.</p>
</li>
</ul>
<p>The token contract MAY send tokens from many <em>holders</em>, to many <em>recipients</em>, or both. In this case:</p>
<ul>
<li>The previous send rules MUST apply to all the <em>holders</em> and all the <em>recipients</em>.</li>
<li>The sum of all the balances incremented MUST be equal to the total sent <code class="language-plaintext highlighter-rouge">amount</code>.</li>
<li>The sum of all the balances decremented MUST be equal to the total sent <code class="language-plaintext highlighter-rouge">amount</code>.</li>
<li>A <code class="language-plaintext highlighter-rouge">Sent</code> event MUST be emitted for every <em>holder</em> and <em>recipient</em> pair with the corresponding amount for each pair.</li>
<li>The sum of all the amounts from the <code class="language-plaintext highlighter-rouge">Sent</code> event MUST be equal to the total sent <code class="language-plaintext highlighter-rouge">amount</code>.</li>
</ul>
<p><em>NOTE</em>: Mechanisms such as applying a fee on a send is considered as a send to multiple <em>recipients</em>:
the intended <em>recipient</em> and the fee <em>recipient</em>.</p>
<p><em>NOTE</em>: Movements of tokens MAY be chained.
For example, if a contract upon receiving tokens sends them further to another address.
In this case, the previous send rules apply to each send, in order.</p>
<p><em>NOTE</em>: Sending an amount of zero (<code class="language-plaintext highlighter-rouge">0</code>) tokens is valid and MUST be treated as a regular send.</p>
<p><em>Implementation Requirement</em>:</p>
<ul>
<li>The token contract MUST call the <code class="language-plaintext highlighter-rouge">tokensToSend</code> hook <em>before</em> updating the state.</li>
<li>The token contract MUST call the <code class="language-plaintext highlighter-rouge">tokensReceived</code> hook <em>after</em> updating the state.<br />
I.e., <code class="language-plaintext highlighter-rouge">tokensToSend</code> MUST be called first,
then the balances MUST be updated to reflect the send,
and finally <code class="language-plaintext highlighter-rouge">tokensReceived</code> MUST be called <em>afterward</em>.
Thus a <code class="language-plaintext highlighter-rouge">balanceOf</code> call within <code class="language-plaintext highlighter-rouge">tokensToSend</code> returns the balance of the address <em>before</em> the send
and a <code class="language-plaintext highlighter-rouge">balanceOf</code> call within <code class="language-plaintext highlighter-rouge">tokensReceived</code> returns the balance of the address <em>after</em> the send.</li>
</ul>
<p><em>NOTE</em>: The <code class="language-plaintext highlighter-rouge">data</code> field contains information provided by the <em>holder</em>—similar
to the data field in a regular ether send transaction.
The <code class="language-plaintext highlighter-rouge">tokensToSend()</code> hook, the <code class="language-plaintext highlighter-rouge">tokensReceived()</code>, or both
MAY use the information to decide if they wish to reject the transaction.</p>
<p><em>NOTE</em>: The <code class="language-plaintext highlighter-rouge">operatorData</code> field is analogous to the <code class="language-plaintext highlighter-rouge">data</code> field except it SHALL be provided by the <em>operator</em>.</p>
<p>The <code class="language-plaintext highlighter-rouge">operatorData</code> MUST only be provided by the <em>operator</em>.
It is intended more for logging purposes and particular cases.
(Examples include payment references, cheque numbers, countersignatures and more.)
In most of the cases the recipient would ignore the <code class="language-plaintext highlighter-rouge">operatorData</code>, or at most, it would log the <code class="language-plaintext highlighter-rouge">operatorData</code>.</p>
<p><strong><code class="language-plaintext highlighter-rouge">Sent</code> event</strong> <a id="sent"></a></p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">event</span> <span class="n">Sent</span><span class="p">(</span>
    <span class="kt">address</span> <span class="k">indexed</span> <span class="n">operator</span><span class="p">,</span>
    <span class="kt">address</span> <span class="k">indexed</span> <span class="n">from</span><span class="p">,</span>
    <span class="kt">address</span> <span class="k">indexed</span> <span class="n">to</span><span class="p">,</span>
    <span class="kt">uint256</span> <span class="n">amount</span><span class="p">,</span>
    <span class="kt">bytes</span> <span class="n">data</span><span class="p">,</span>
    <span class="kt">bytes</span> <span class="n">operatorData</span>
<span class="p">)</span>
</code></pre></div></div>
<p>Indicate a send of <code class="language-plaintext highlighter-rouge">amount</code> of tokens from the <code class="language-plaintext highlighter-rouge">from</code> address to the <code class="language-plaintext highlighter-rouge">to</code> address by the <code class="language-plaintext highlighter-rouge">operator</code> address.</p>
<p><em>NOTE</em>: This event MUST NOT be emitted outside of a send or an <a href="/EIPS/eip-20">ERC-20</a> transfer process.</p>
<blockquote>
<p><small><strong>parameters</strong></small><br />
<small><code class="language-plaintext highlighter-rouge">operator</code>: Address which triggered the send.</small><br />
<small><code class="language-plaintext highlighter-rouge">from</code>: <em>Holder</em> whose tokens were sent.</small><br />
<small><code class="language-plaintext highlighter-rouge">to</code>: Recipient of the tokens.</small><br />
<small><code class="language-plaintext highlighter-rouge">amount</code>: Number of tokens sent.</small><br />
<small><code class="language-plaintext highlighter-rouge">data</code>: Information provided by the <em>holder</em>.</small><br />
<small><code class="language-plaintext highlighter-rouge">operatorData</code>: Information provided by the <em>operator</em>.</small></p>
</blockquote>
<p>The <code class="language-plaintext highlighter-rouge">send</code> and <code class="language-plaintext highlighter-rouge">operatorSend</code> functions described below MUST be implemented to send tokens.
Token contracts MAY implement other functions to send tokens.</p>
<p><strong><code class="language-plaintext highlighter-rouge">send</code> function</strong></p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="nb">send</span><span class="p">(</span><span class="kt">address</span> <span class="n">to</span><span class="p">,</span> <span class="kt">uint256</span> <span class="n">amount</span><span class="p">,</span> <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">data</span><span class="p">)</span> <span class="k">external</span>
</code></pre></div></div>
<p>Send the <code class="language-plaintext highlighter-rouge">amount</code> of tokens from the address <code class="language-plaintext highlighter-rouge">msg.sender</code> to the address <code class="language-plaintext highlighter-rouge">to</code>.</p>
<p>The <em>operator</em> and the <em>holder</em> MUST both be the <code class="language-plaintext highlighter-rouge">msg.sender</code>.</p>
<blockquote>
<p><small><strong>identifier:</strong> <code class="language-plaintext highlighter-rouge">9bd9bbc6</code></small><br />
<small><strong>parameters</strong></small><br />
<small><code class="language-plaintext highlighter-rouge">to</code>: Recipient of the tokens.</small><br />
<small><code class="language-plaintext highlighter-rouge">amount</code>: Number of tokens to send.</small><br />
<small><code class="language-plaintext highlighter-rouge">data</code>: Information provided by the <em>holder</em>.</small></p>
</blockquote>
<p><strong><code class="language-plaintext highlighter-rouge">operatorSend</code> function</strong></p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">operatorSend</span><span class="p">(</span>
    <span class="kt">address</span> <span class="n">from</span><span class="p">,</span>
    <span class="kt">address</span> <span class="n">to</span><span class="p">,</span>
    <span class="kt">uint256</span> <span class="n">amount</span><span class="p">,</span>
    <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">data</span><span class="p">,</span>
    <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">operatorData</span>
<span class="p">)</span> <span class="k">external</span>
</code></pre></div></div>
<p>Send the <code class="language-plaintext highlighter-rouge">amount</code> of tokens on behalf of the address <code class="language-plaintext highlighter-rouge">from</code> to the address <code class="language-plaintext highlighter-rouge">to</code>.</p>
<p><em>Reminder</em>: If the <em>operator</em> address is not an authorized operator of the <code class="language-plaintext highlighter-rouge">from</code> address,
then the send process MUST <code class="language-plaintext highlighter-rouge">revert</code>.</p>
<p><em>NOTE</em>: <code class="language-plaintext highlighter-rouge">from</code> and <code class="language-plaintext highlighter-rouge">msg.sender</code> MAY be the same address.
I.e., an address MAY call <code class="language-plaintext highlighter-rouge">operatorSend</code> for itself.
This call MUST be equivalent to <code class="language-plaintext highlighter-rouge">send</code> with the addition
that the <em>operator</em> MAY specify an explicit value for <code class="language-plaintext highlighter-rouge">operatorData</code>
(which cannot be done with the <code class="language-plaintext highlighter-rouge">send</code> function).</p>
<blockquote>
<p><small><strong>identifier:</strong> <code class="language-plaintext highlighter-rouge">62ad1b83</code></small><br />
<small><strong>parameters</strong></small><br />
<small><code class="language-plaintext highlighter-rouge">from</code>: <em>Holder</em> whose tokens are being sent.</small><br />
<small><code class="language-plaintext highlighter-rouge">to</code>: Recipient of the tokens.</small><br />
<small><code class="language-plaintext highlighter-rouge">amount</code>: Number of tokens to send.</small><br />
<small><code class="language-plaintext highlighter-rouge">data</code>: Information provided by the <em>holder</em>.</small><br />
<small><code class="language-plaintext highlighter-rouge">operatorData</code>: Information provided by the <em>operator</em>.</small></p>
</blockquote>
<h4 id="minting-tokens">
<a href="#minting-tokens" class="anchor-link"></a> <strong>Minting Tokens</strong>
</h4>
<p>Minting tokens is the act of producing new tokens.
<a href="/EIPS/eip-777">ERC-777</a> intentionally does not define specific functions to mint tokens.
This intent comes from the wish not to limit the use of the <a href="/EIPS/eip-777">ERC-777</a> standard
as the minting process is generally specific for every token.</p>
<p>Nonetheless, the rules below MUST be respected when minting for a <em>recipient</em>:</p>
<ul>
<li>
<p>Tokens MAY be minted for any <em>recipient</em> address (except <code class="language-plaintext highlighter-rouge">0x0</code>).</p>
</li>
<li>
<p>The total supply MUST be increased by the amount of tokens minted.</p>
</li>
<li>
<p>The balance of <code class="language-plaintext highlighter-rouge">0x0</code> MUST NOT be decreased.</p>
</li>
<li>
<p>The balance of the <em>recipient</em> MUST be increased by the amount of tokens minted.</p>
</li>
<li>
<p>The token contract MUST emit a <code class="language-plaintext highlighter-rouge">Minted</code> event with the correct values as defined in the <a href="#minted"><code class="language-plaintext highlighter-rouge">Minted</code> Event</a>.</p>
</li>
<li>
<p>The token contract MUST call the <code class="language-plaintext highlighter-rouge">tokensReceived</code> hook of the <em>recipient</em>
if the <em>recipient</em> registers an <code class="language-plaintext highlighter-rouge">ERC777TokensRecipient</code> implementation via <a href="/EIPS/eip-1820">ERC-1820</a>.</p>
</li>
<li>
<p>The <code class="language-plaintext highlighter-rouge">data</code> and <code class="language-plaintext highlighter-rouge">operatorData</code> MUST be immutable during the entire mint process—hence
the same <code class="language-plaintext highlighter-rouge">data</code> and <code class="language-plaintext highlighter-rouge">operatorData</code> MUST be used to call the <code class="language-plaintext highlighter-rouge">tokensReceived</code> hook and emit the <code class="language-plaintext highlighter-rouge">Minted</code> event.</p>
</li>
</ul>
<p>The token contract MUST <code class="language-plaintext highlighter-rouge">revert</code> when minting in any of the following cases:</p>
<ul>
<li>The resulting <em>recipient</em> balance after the mint is not a multiple of the <em>granularity</em> defined by the token contract.</li>
<li>The <em>recipient</em> is a contract, and it does not implement the <code class="language-plaintext highlighter-rouge">ERC777TokensRecipient</code> interface via <a href="/EIPS/eip-1820">ERC-1820</a>.</li>
<li>The address of the <em>recipient</em> is <code class="language-plaintext highlighter-rouge">0x0</code>.</li>
<li>The <code class="language-plaintext highlighter-rouge">tokensReceived</code> hook of the <em>recipient</em> <code class="language-plaintext highlighter-rouge">revert</code>s.</li>
</ul>
<p><em>NOTE</em>: The initial token supply at the creation of the token contract MUST be considered as minting
for the amount of the initial supply to the address(es) receiving the initial supply.
This means one or more <code class="language-plaintext highlighter-rouge">Minted</code> events must be emitted
and the <code class="language-plaintext highlighter-rouge">tokensReceived</code> hook of the recipient(s) MUST be called.</p>
<p><em><a href="/EIPS/eip-20">ERC-20</a> compatibility requirement</em>:<br />
While a <code class="language-plaintext highlighter-rouge">Sent</code> event MUST NOT be emitted when minting,
if the token contract is <a href="/EIPS/eip-20">ERC-20</a> backward compatible,
a <code class="language-plaintext highlighter-rouge">Transfer</code> event with the <code class="language-plaintext highlighter-rouge">from</code> parameter set to <code class="language-plaintext highlighter-rouge">0x0</code> SHOULD be emitted as defined in the <a href="/EIPS/eip-20">ERC-20</a> standard.</p>
<p>The token contract MAY mint tokens for multiple <em>recipients</em> at once. In this case:</p>
<ul>
<li>The previous mint rules MUST apply to all the <em>recipients</em>.</li>
<li>The sum of all the balances incremented MUST be equal to the total minted amount.</li>
<li>A <code class="language-plaintext highlighter-rouge">Minted</code> event MUST be emitted for every <em>recipient</em> with the corresponding amount for each <em>recipient</em>.</li>
<li>The sum of all the amounts from the <code class="language-plaintext highlighter-rouge">Minted</code> event MUST be equal to the total minted <code class="language-plaintext highlighter-rouge">amount</code>.</li>
</ul>
<p><em>NOTE</em>: Minting an amount of zero (<code class="language-plaintext highlighter-rouge">0</code>) tokens is valid and MUST be treated as a regular mint.</p>
<p><em>NOTE</em>: While during a send or a burn, the data is provided by the <em>holder</em>, it is inapplicable for a mint.
In this case the data MAY be provided by the token contract or the <em>operator</em>,
for example to ensure a successful minting to a <em>holder</em> expecting specific data.</p>
<p><em>NOTE</em>: The <code class="language-plaintext highlighter-rouge">operatorData</code> field contains information provided by the <em>operator</em>—similar
to the data field in a regular ether send transaction.
The <code class="language-plaintext highlighter-rouge">tokensReceived()</code> hooks MAY use the information to decide if it wish to reject the transaction.</p>
<p><strong><code class="language-plaintext highlighter-rouge">Minted</code> event</strong> <a id="minted"></a></p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">event</span> <span class="n">Minted</span><span class="p">(</span>
    <span class="kt">address</span> <span class="k">indexed</span> <span class="n">operator</span><span class="p">,</span>
    <span class="kt">address</span> <span class="k">indexed</span> <span class="n">to</span><span class="p">,</span>
    <span class="kt">uint256</span> <span class="n">amount</span><span class="p">,</span>
    <span class="kt">bytes</span> <span class="n">data</span><span class="p">,</span>
    <span class="kt">bytes</span> <span class="n">operatorData</span>
<span class="p">)</span>
</code></pre></div></div>
<p>Indicate the minting of <code class="language-plaintext highlighter-rouge">amount</code> of tokens to the <code class="language-plaintext highlighter-rouge">to</code> address by the <code class="language-plaintext highlighter-rouge">operator</code> address.</p>
<p><em>NOTE</em>: This event MUST NOT be emitted outside of a mint process.</p>
<blockquote>
<p><small><strong>parameters</strong></small><br />
<small><code class="language-plaintext highlighter-rouge">operator</code>: Address which triggered the mint.</small><br />
<small><code class="language-plaintext highlighter-rouge">to</code>: Recipient of the tokens.</small><br />
<small><code class="language-plaintext highlighter-rouge">amount</code>: Number of tokens minted.</small><br />
<small><code class="language-plaintext highlighter-rouge">data</code>: Information provided for the <em>recipient</em>.</small><br />
<small><code class="language-plaintext highlighter-rouge">operatorData</code>: Information provided by the <em>operator</em>.</small></p>
</blockquote>
<h4 id="burning-tokens">
<a href="#burning-tokens" class="anchor-link"></a> <strong>Burning Tokens</strong>
</h4>
<p>Burning tokens is the act of destroying existing tokens.
<a href="/EIPS/eip-777">ERC-777</a> explicitly defines two functions to burn tokens (<code class="language-plaintext highlighter-rouge">burn</code> and <code class="language-plaintext highlighter-rouge">operatorBurn</code>).
These functions facilitate the integration of the burning process in wallets and dapps.
However, the token contract MAY prevent some or all <em>holders</em> from burning tokens for any reason.
The token contract MAY also define other functions to burn tokens.</p>
<p>The rules below MUST be respected when burning the tokens of a <em>holder</em>:</p>
<ul>
<li>
<p>Tokens MAY be burned from any <em>holder</em> address (except <code class="language-plaintext highlighter-rouge">0x0</code>).</p>
</li>
<li>
<p>The total supply MUST be decreased by the amount of tokens burned.</p>
</li>
<li>
<p>The balance of <code class="language-plaintext highlighter-rouge">0x0</code> MUST NOT be increased.</p>
</li>
<li>
<p>The balance of the <em>holder</em> MUST be decreased by amount of tokens burned.</p>
</li>
<li>
<p>The token contract MUST emit a <code class="language-plaintext highlighter-rouge">Burned</code> event with the correct values as defined in the <a href="#burned"><code class="language-plaintext highlighter-rouge">Burned</code> Event</a>.</p>
</li>
<li>
<p>The token contract MUST call the <code class="language-plaintext highlighter-rouge">tokensToSend</code> hook of the <em>holder</em>
if the <em>holder</em> registers an <code class="language-plaintext highlighter-rouge">ERC777TokensSender</code> implementation via <a href="/EIPS/eip-1820">ERC-1820</a>.</p>
</li>
<li>
<p>The <code class="language-plaintext highlighter-rouge">operatorData</code> MUST be immutable during the entire burn process—hence
the same <code class="language-plaintext highlighter-rouge">operatorData</code> MUST be used to call the <code class="language-plaintext highlighter-rouge">tokensToSend</code> hook and emit the <code class="language-plaintext highlighter-rouge">Burned</code> event.</p>
</li>
</ul>
<p>The token contract MUST <code class="language-plaintext highlighter-rouge">revert</code> when burning in any of the following cases:</p>
<ul>
<li>
<p>The <em>operator</em> address is not an authorized operator for the <em>holder</em>.</p>
</li>
<li>
<p>The resulting <em>holder</em> balance after the burn is not a multiple of the <em>granularity</em>
defined by the token contract.</p>
</li>
<li>
<p>The balance of <em>holder</em> is inferior to the amount of tokens to burn
(i.e., resulting in a negative balance for the <em>holder</em>).</p>
</li>
<li>
<p>The address of the <em>holder</em> is <code class="language-plaintext highlighter-rouge">0x0</code>.</p>
</li>
<li>
<p>The <code class="language-plaintext highlighter-rouge">tokensToSend</code> hook of the <em>holder</em> <code class="language-plaintext highlighter-rouge">revert</code>s.</p>
</li>
</ul>
<p><em><a href="/EIPS/eip-20">ERC-20</a> compatibility requirement</em>:<br />
While a <code class="language-plaintext highlighter-rouge">Sent</code> event MUST NOT be emitted when burning;
if the token contract is <a href="/EIPS/eip-20">ERC-20</a> enabled, a <code class="language-plaintext highlighter-rouge">Transfer</code> event with the <code class="language-plaintext highlighter-rouge">to</code> parameter set to <code class="language-plaintext highlighter-rouge">0x0</code> SHOULD be emitted.
The <a href="/EIPS/eip-20">ERC-20</a> standard does not define the concept of burning tokens, but this is a commonly accepted practice.</p>
<p>The token contract MAY burn tokens for multiple <em>holders</em> at once. In this case:</p>
<ul>
<li>The previous burn rules MUST apply to each <em>holders</em>.</li>
<li>The sum of all the balances decremented MUST be equal to the total burned amount.</li>
<li>A <code class="language-plaintext highlighter-rouge">Burned</code> event MUST be emitted for every <em>holder</em> with the corresponding amount for each <em>holder</em>.</li>
<li>The sum of all the amounts from the <code class="language-plaintext highlighter-rouge">Burned</code> event MUST be equal to the total burned <code class="language-plaintext highlighter-rouge">amount</code>.</li>
</ul>
<p><em>NOTE</em>: Burning an amount of zero (<code class="language-plaintext highlighter-rouge">0</code>) tokens is valid and MUST be treated as a regular burn.</p>
<p><em>NOTE</em>: The <code class="language-plaintext highlighter-rouge">data</code> field contains information provided by the holder—similar
to the data field in a regular ether send transaction.
The <code class="language-plaintext highlighter-rouge">tokensToSend()</code> hook, the <code class="language-plaintext highlighter-rouge">tokensReceived()</code>, or both
MAY use the information to decide if they wish to reject the transaction.</p>
<p><em>NOTE</em>: The <code class="language-plaintext highlighter-rouge">operatorData</code> field is analogous to the <code class="language-plaintext highlighter-rouge">data</code> field except it SHALL be provided by the <em>operator</em>.</p>
<p><strong><code class="language-plaintext highlighter-rouge">Burned</code> event</strong> <a id="burned"></a></p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">event</span> <span class="n">Burned</span><span class="p">(</span>
    <span class="n">ddress</span> <span class="k">indexed</span> <span class="n">operator</span><span class="p">,</span>
    <span class="kt">address</span> <span class="k">indexed</span> <span class="n">from</span><span class="p">,</span>
    <span class="kt">uint256</span> <span class="n">amount</span><span class="p">,</span>
    <span class="kt">bytes</span> <span class="n">data</span><span class="p">,</span>
    <span class="kt">bytes</span> <span class="n">operatorData</span>
<span class="p">);</span>
</code></pre></div></div>
<p>Indicate the burning of <code class="language-plaintext highlighter-rouge">amount</code> of tokens from the <code class="language-plaintext highlighter-rouge">from</code> address by the <code class="language-plaintext highlighter-rouge">operator</code> address.</p>
<p><em>NOTE</em>: This event MUST NOT be emitted outside of a burn process.</p>
<blockquote>
<p><small><strong>parameters</strong></small><br />
<small><code class="language-plaintext highlighter-rouge">operator</code>: Address which triggered the burn.</small><br />
<small><code class="language-plaintext highlighter-rouge">from</code>: <em>Holder</em> whose tokens were burned.</small><br />
<small><code class="language-plaintext highlighter-rouge">amount</code>: Number of tokens burned.</small><br />
<small><code class="language-plaintext highlighter-rouge">data</code>: Information provided by the <em>holder</em>.</small><br />
<small><code class="language-plaintext highlighter-rouge">operatorData</code>: Information provided by the <em>operator</em>.</small></p>
</blockquote>
<p>The <code class="language-plaintext highlighter-rouge">burn</code> and <code class="language-plaintext highlighter-rouge">operatorBurn</code> functions described below MUST be implemented to burn tokens.
Token contracts MAY implement other functions to burn tokens.</p>
<p><strong><code class="language-plaintext highlighter-rouge">burn</code> function</strong></p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">burn</span><span class="p">(</span><span class="kt">uint256</span> <span class="n">amount</span><span class="p">,</span> <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">data</span><span class="p">)</span> <span class="k">external</span>
</code></pre></div></div>
<p>Burn the <code class="language-plaintext highlighter-rouge">amount</code> of tokens from the address <code class="language-plaintext highlighter-rouge">msg.sender</code>.</p>
<p>The <em>operator</em> and the <em>holder</em> MUST both be the <code class="language-plaintext highlighter-rouge">msg.sender</code>.</p>
<blockquote>
<p><small><strong>identifier:</strong> <code class="language-plaintext highlighter-rouge">fe9d9303</code></small><br />
<small><strong>parameters</strong></small><br />
<small><code class="language-plaintext highlighter-rouge">amount</code>: Number of tokens to burn.</small><br />
<small><code class="language-plaintext highlighter-rouge">data</code>: Information provided by the <em>holder</em>.</small></p>
</blockquote>
<p><strong><code class="language-plaintext highlighter-rouge">operatorBurn</code> function</strong></p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">operatorBurn</span><span class="p">(</span>
    <span class="kt">address</span> <span class="n">from</span><span class="p">,</span>
    <span class="kt">uint256</span> <span class="n">amount</span><span class="p">,</span>
    <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">data</span><span class="p">,</span>
    <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">operatorData</span>
<span class="p">)</span> <span class="k">external</span>
</code></pre></div></div>
<p>Burn the <code class="language-plaintext highlighter-rouge">amount</code> of tokens on behalf of the address <code class="language-plaintext highlighter-rouge">from</code>.</p>
<p><em>Reminder</em>: If the <em>operator</em> address is not an authorized operator of the <code class="language-plaintext highlighter-rouge">from</code> address,
then the burn process MUST <code class="language-plaintext highlighter-rouge">revert</code>.</p>
<blockquote>
<p><small><strong>identifier:</strong> <code class="language-plaintext highlighter-rouge">fc673c4f</code></small><br />
<small><strong>parameters</strong></small><br />
<small><code class="language-plaintext highlighter-rouge">from</code>: <em>Holder</em> whose tokens will be burned.</small><br />
<small><code class="language-plaintext highlighter-rouge">amount</code>: Number of tokens to burn.</small><br />
<small><code class="language-plaintext highlighter-rouge">data</code>: Information provided by the <em>holder</em>.</small><br />
<small><code class="language-plaintext highlighter-rouge">operatorData</code>: Information provided by the <em>operator</em>.</small></p>
</blockquote>
<p><em>NOTE</em>: The <em>operator</em> MAY pass any information via <code class="language-plaintext highlighter-rouge">operatorData</code>.
The <code class="language-plaintext highlighter-rouge">operatorData</code> MUST only be provided by the <em>operator</em>.</p>
<p><em>NOTE</em>: <code class="language-plaintext highlighter-rouge">from</code> and <code class="language-plaintext highlighter-rouge">msg.sender</code> MAY be the same address.
I.e., an address MAY call <code class="language-plaintext highlighter-rouge">operatorBurn</code> for itself.
This call MUST be equivalent to <code class="language-plaintext highlighter-rouge">burn</code>
with the addition that the <em>operator</em> MAY specify an explicit value for <code class="language-plaintext highlighter-rouge">operatorData</code>
(which cannot be done with the <code class="language-plaintext highlighter-rouge">burn</code> function).</p>
<h4 id="erc777tokenssender-and-the-tokenstosend-hook">
<a href="#erc777tokenssender-and-the-tokenstosend-hook" class="anchor-link"></a> <strong><code class="language-plaintext highlighter-rouge">ERC777TokensSender</code> And The <code class="language-plaintext highlighter-rouge">tokensToSend</code> Hook</strong>
</h4>
<p>The <code class="language-plaintext highlighter-rouge">tokensToSend</code> hook notifies of any request to decrement the balance (send and burn) for a given <em>holder</em>.
Any address (regular or contract) wishing to be notified of token debits from their address
MAY register the address of a contract implementing the <code class="language-plaintext highlighter-rouge">ERC777TokensSender</code> interface described below via <a href="/EIPS/eip-1820">ERC-1820</a>.</p>
<blockquote>
<p>This is done by calling the <code class="language-plaintext highlighter-rouge">setInterfaceImplementer</code> function on the <a href="/EIPS/eip-1820">ERC-1820</a> registry
with the <em>holder</em> address as the address,
the <code class="language-plaintext highlighter-rouge">keccak256</code> hash of <code class="language-plaintext highlighter-rouge">ERC777TokensSender</code>
(<code class="language-plaintext highlighter-rouge">0x29ddb589b1fb5fc7cf394961c1adf5f8c6454761adf795e67fe149f658abe895</code>) as the interface hash,
and the address of the contract implementing the <code class="language-plaintext highlighter-rouge">ERC777TokensSender</code> as the implementer.</p>
</blockquote>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">interface</span> <span class="n">ERC777TokensSender</span> <span class="p">{</span>
    <span class="k">function</span> <span class="n">tokensToSend</span><span class="p">(</span>
        <span class="kt">address</span> <span class="n">operator</span><span class="p">,</span>
        <span class="kt">address</span> <span class="n">from</span><span class="p">,</span>
        <span class="kt">address</span> <span class="n">to</span><span class="p">,</span>
        <span class="kt">uint256</span> <span class="n">amount</span><span class="p">,</span>
        <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">userData</span><span class="p">,</span>
        <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">operatorData</span>
    <span class="p">)</span> <span class="k">external</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p><em>NOTE</em>: A regular address MAY register a different address—the address of a contract—implementing
the interface on its behalf.
A contract MAY register either its address or the address of another contract
but said address MUST implement the interface on its behalf.</p>
<p><strong><code class="language-plaintext highlighter-rouge">tokensToSend</code></strong></p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">tokensToSend</span><span class="p">(</span>
    <span class="kt">address</span> <span class="n">operator</span><span class="p">,</span>
    <span class="kt">address</span> <span class="n">from</span><span class="p">,</span>
    <span class="kt">address</span> <span class="n">to</span><span class="p">,</span>
    <span class="kt">uint256</span> <span class="n">amount</span><span class="p">,</span>
    <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">userData</span><span class="p">,</span>
    <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">operatorData</span>
<span class="p">)</span> <span class="k">external</span>
</code></pre></div></div>
<p>Notify a request to send or burn (if <code class="language-plaintext highlighter-rouge">to</code> is <code class="language-plaintext highlighter-rouge">0x0</code>) an <code class="language-plaintext highlighter-rouge">amount</code> tokens from the <code class="language-plaintext highlighter-rouge">from</code> address to the <code class="language-plaintext highlighter-rouge">to</code> address
by the <code class="language-plaintext highlighter-rouge">operator</code> address.</p>
<p><em>NOTE</em>: This function MUST NOT be called outside of a burn, send or <a href="/EIPS/eip-20">ERC-20</a> transfer process.</p>
<blockquote>
<p><small><strong>identifier:</strong> <code class="language-plaintext highlighter-rouge">75ab9782</code></small><br />
<small><strong>parameters</strong></small><br />
<small><code class="language-plaintext highlighter-rouge">operator</code>: Address which triggered the balance decrease (through sending or burning).</small><br />
<small><code class="language-plaintext highlighter-rouge">from</code>: <em>Holder</em> whose tokens were sent.</small><br />
<small><code class="language-plaintext highlighter-rouge">to</code>: Recipient of the tokens for a send (or <code class="language-plaintext highlighter-rouge">0x0</code> for a burn).</small><br />
<small><code class="language-plaintext highlighter-rouge">amount</code>: Number of tokens the <em>holder</em> balance is decreased by.</small><br />
<small><code class="language-plaintext highlighter-rouge">data</code>: Information provided by the <em>holder</em>.</small><br />
<small><code class="language-plaintext highlighter-rouge">operatorData</code>: Information provided by the <em>operator</em>.</small></p>
</blockquote>
<p>The following rules apply when calling the <code class="language-plaintext highlighter-rouge">tokensToSend</code> hook:</p>
<ul>
<li>
<p>The <code class="language-plaintext highlighter-rouge">tokensToSend</code> hook MUST be called for every send and burn processes.</p>
</li>
<li>
<p>The <code class="language-plaintext highlighter-rouge">tokensToSend</code> hook MUST be called <em>before</em> the state is updated—i.e. <em>before</em> the balance is decremented.</p>
</li>
<li>
<p><code class="language-plaintext highlighter-rouge">operator</code> MUST be the address which triggered the send or burn process.</p>
</li>
<li>
<p><code class="language-plaintext highlighter-rouge">from</code> MUST be the address of the <em>holder</em> whose tokens are sent or burned.</p>
</li>
<li>
<p><code class="language-plaintext highlighter-rouge">to</code> MUST be the address of the <em>recipient</em> which receives the tokens for a send.</p>
</li>
<li>
<p><code class="language-plaintext highlighter-rouge">to</code> MUST be <code class="language-plaintext highlighter-rouge">0x0</code> for a burn.</p>
</li>
<li>
<p><code class="language-plaintext highlighter-rouge">amount</code> MUST be the number of tokens the <em>holder</em> sent or burned.</p>
</li>
<li>
<p><code class="language-plaintext highlighter-rouge">data</code> MUST contain the extra information (if any) provided to the send or the burn process.</p>
</li>
<li>
<p><code class="language-plaintext highlighter-rouge">operatorData</code> MUST contain the extra information provided by the address
which triggered the decrease of the balance (if any).</p>
</li>
<li>
<p>The <em>holder</em> MAY block a send or burn process by <code class="language-plaintext highlighter-rouge">revert</code>ing.
(I.e., reject the withdrawal of tokens from its account.)</p>
</li>
</ul>
<p><em>NOTE</em>: Multiple <em>holders</em> MAY use the same implementation of <code class="language-plaintext highlighter-rouge">ERC777TokensSender</code>.</p>
<p><em>NOTE</em>: An address can register at most one implementation at any given time for all <a href="/EIPS/eip-777">ERC-777</a> tokens.
Hence the <code class="language-plaintext highlighter-rouge">ERC777TokensSender</code> MUST expect to be called by different token contracts.
The <code class="language-plaintext highlighter-rouge">msg.sender</code> of the <code class="language-plaintext highlighter-rouge">tokensToSend</code> call is expected to be the address of the token contract.</p>
<p><em><a href="/EIPS/eip-20">ERC-20</a> compatibility requirement</em>:<br />
This hook takes precedence over <a href="/EIPS/eip-20">ERC-20</a> and MUST be called (if registered)
when calling <a href="/EIPS/eip-20">ERC-20</a>’s <code class="language-plaintext highlighter-rouge">transfer</code> and <code class="language-plaintext highlighter-rouge">transferFrom</code> event.
When called from a <code class="language-plaintext highlighter-rouge">transfer</code>, <code class="language-plaintext highlighter-rouge">operator</code> MUST be the same value as the <code class="language-plaintext highlighter-rouge">from</code>.
When called from a <code class="language-plaintext highlighter-rouge">transferFrom</code>, <code class="language-plaintext highlighter-rouge">operator</code> MUST be the address which issued the <code class="language-plaintext highlighter-rouge">transferFrom</code> call.</p>
<h4 id="erc777tokensrecipient-and-the-tokensreceived-hook">
<a href="#erc777tokensrecipient-and-the-tokensreceived-hook" class="anchor-link"></a> <strong><code class="language-plaintext highlighter-rouge">ERC777TokensRecipient</code> And The <code class="language-plaintext highlighter-rouge">tokensReceived</code> Hook</strong>
</h4>
<p>The <code class="language-plaintext highlighter-rouge">tokensReceived</code> hook notifies of any increment of the balance (send and mint) for a given <em>recipient</em>.
Any address (regular or contract) wishing to be notified of token credits to their address
MAY register the address of a contract implementing the <code class="language-plaintext highlighter-rouge">ERC777TokensRecipient</code> interface described below via <a href="/EIPS/eip-1820">ERC-1820</a>.</p>
<blockquote>
<p>This is done by calling the <code class="language-plaintext highlighter-rouge">setInterfaceImplementer</code> function on the <a href="/EIPS/eip-1820">ERC-1820</a> registry
with the <em>recipient</em> address as the address,
the <code class="language-plaintext highlighter-rouge">keccak256</code> hash of <code class="language-plaintext highlighter-rouge">ERC777TokensRecipient</code>
(<code class="language-plaintext highlighter-rouge">0xb281fc8c12954d22544db45de3159a39272895b169a852b314f9cc762e44c53b</code>) as the interface hash,
and the address of the contract implementing the <code class="language-plaintext highlighter-rouge">ERC777TokensRecipient</code> as the implementer.</p>
</blockquote>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">interface</span> <span class="n">ERC777TokensRecipient</span> <span class="p">{</span>
    <span class="k">function</span> <span class="n">tokensReceived</span><span class="p">(</span>
        <span class="kt">address</span> <span class="n">operator</span><span class="p">,</span>
        <span class="kt">address</span> <span class="n">from</span><span class="p">,</span>
        <span class="kt">address</span> <span class="n">to</span><span class="p">,</span>
        <span class="kt">uint256</span> <span class="n">amount</span><span class="p">,</span>
        <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">data</span><span class="p">,</span>
        <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">operatorData</span>
    <span class="p">)</span> <span class="k">external</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p>If the <em>recipient</em> is a contract, which has not registered an <code class="language-plaintext highlighter-rouge">ERC777TokensRecipient</code> implementation;
then the token contract:</p>
<ul>
<li>
<p>MUST <code class="language-plaintext highlighter-rouge">revert</code> if the <code class="language-plaintext highlighter-rouge">tokensReceived</code> hook is called from a mint or send call.</p>
</li>
<li>
<p>SHOULD continue processing the transaction
if the <code class="language-plaintext highlighter-rouge">tokensReceived</code> hook is called from an ERC20 <code class="language-plaintext highlighter-rouge">transfer</code> or <code class="language-plaintext highlighter-rouge">transferFrom</code> call.</p>
</li>
</ul>
<p><em>NOTE</em>: A regular address MAY register a different address—the address of a contract—implementing
the interface on its behalf.
A contract MUST register either its address or the address of another contract
but said address MUST implement the interface on its behalf.</p>
<p><strong><code class="language-plaintext highlighter-rouge">tokensReceived</code></strong></p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">tokensReceived</span><span class="p">(</span>
    <span class="kt">address</span> <span class="n">operator</span><span class="p">,</span>
    <span class="kt">address</span> <span class="n">from</span><span class="p">,</span>
    <span class="kt">address</span> <span class="n">to</span><span class="p">,</span>
    <span class="kt">uint256</span> <span class="n">amount</span><span class="p">,</span>
    <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">data</span><span class="p">,</span>
    <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">operatorData</span>
<span class="p">)</span> <span class="k">external</span>
</code></pre></div></div>
<p>Notify a send or mint (if <code class="language-plaintext highlighter-rouge">from</code> is <code class="language-plaintext highlighter-rouge">0x0</code>) of <code class="language-plaintext highlighter-rouge">amount</code> tokens from the <code class="language-plaintext highlighter-rouge">from</code> address to the <code class="language-plaintext highlighter-rouge">to</code> address
by the <code class="language-plaintext highlighter-rouge">operator</code> address.</p>
<p><em>NOTE</em>: This function MUST NOT be called outside of a mint, send or <a href="/EIPS/eip-20">ERC-20</a> transfer process.</p>
<blockquote>
<p><small><strong>identifier:</strong> <code class="language-plaintext highlighter-rouge">0023de29</code></small><br />
<small><strong>parameters</strong></small><br />
<small><code class="language-plaintext highlighter-rouge">operator</code>: Address which triggered the balance increase (through sending or minting).</small><br />
<small><code class="language-plaintext highlighter-rouge">from</code>: <em>Holder</em> whose tokens were sent (or <code class="language-plaintext highlighter-rouge">0x0</code> for a mint).</small><br />
<small><code class="language-plaintext highlighter-rouge">to</code>: Recipient of the tokens.</small><br />
<small><code class="language-plaintext highlighter-rouge">amount</code>: Number of tokens the <em>recipient</em> balance is increased by.</small><br />
<small><code class="language-plaintext highlighter-rouge">data</code>: Information provided by the <em>holder</em>.</small><br />
<small><code class="language-plaintext highlighter-rouge">operatorData</code>: Information provided by the <em>operator</em>.</small></p>
</blockquote>
<p>The following rules apply when calling the <code class="language-plaintext highlighter-rouge">tokensReceived</code> hook:</p>
<ul>
<li>
<p>The <code class="language-plaintext highlighter-rouge">tokensReceived</code> hook MUST be called for every send and mint processes.</p>
</li>
<li>
<p>The <code class="language-plaintext highlighter-rouge">tokensReceived</code> hook MUST be called <em>after</em> the state is updated—i.e. <em>after</em> the balance is incremented.</p>
</li>
<li>
<p><code class="language-plaintext highlighter-rouge">operator</code> MUST be the address which triggered the send or mint process.</p>
</li>
<li>
<p><code class="language-plaintext highlighter-rouge">from</code> MUST be the address of the <em>holder</em> whose tokens are sent for a send.</p>
</li>
<li>
<p><code class="language-plaintext highlighter-rouge">from</code> MUST be <code class="language-plaintext highlighter-rouge">0x0</code> for a mint.</p>
</li>
<li>
<p><code class="language-plaintext highlighter-rouge">to</code> MUST be the address of the <em>recipient</em> which receives the tokens.</p>
</li>
<li>
<p><code class="language-plaintext highlighter-rouge">amount</code> MUST be the number of tokens the <em>recipient</em> sent or minted.</p>
</li>
<li>
<p><code class="language-plaintext highlighter-rouge">data</code> MUST contain the extra information (if any) provided to the send or the mint process.</p>
</li>
<li>
<p><code class="language-plaintext highlighter-rouge">operatorData</code> MUST contain the extra information provided by the address
which triggered the increase of the balance (if any).</p>
</li>
<li>
<p>The <em>holder</em> MAY block a send or mint process by <code class="language-plaintext highlighter-rouge">revert</code>ing.
(I.e., reject the reception of tokens.)</p>
</li>
</ul>
<p><em>NOTE</em>: Multiple <em>holders</em> MAY use the same implementation of <code class="language-plaintext highlighter-rouge">ERC777TokensRecipient</code>.</p>
<p><em>NOTE</em>: An address can register at most one implementation at any given time for all <a href="/EIPS/eip-777">ERC-777</a> tokens.
Hence the <code class="language-plaintext highlighter-rouge">ERC777TokensRecipient</code> MUST expect to be called by different token contracts.
The <code class="language-plaintext highlighter-rouge">msg.sender</code> of the <code class="language-plaintext highlighter-rouge">tokensReceived</code> call is expected to be the address of the token contract.</p>
<p><em><a href="/EIPS/eip-20">ERC-20</a> compatibility requirement</em>:<br />
This hook takes precedence over <a href="/EIPS/eip-20">ERC-20</a> and MUST be called (if registered)
when calling <a href="/EIPS/eip-20">ERC-20</a>’s <code class="language-plaintext highlighter-rouge">transfer</code> and <code class="language-plaintext highlighter-rouge">transferFrom</code> event.
When called from a <code class="language-plaintext highlighter-rouge">transfer</code>, <code class="language-plaintext highlighter-rouge">operator</code> MUST be the same value as the <code class="language-plaintext highlighter-rouge">from</code>.
When called from a <code class="language-plaintext highlighter-rouge">transferFrom</code>, <code class="language-plaintext highlighter-rouge">operator</code> MUST be the address which issued the <code class="language-plaintext highlighter-rouge">transferFrom</code> call.</p>
<h4 id="note-on-gas-consumption">
<a href="#note-on-gas-consumption" class="anchor-link"></a> <strong>Note On Gas Consumption</strong>
</h4>
<p>Dapps and wallets SHOULD first estimate the gas required when sending, minting, or burning tokens—using
<a href="https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_estimategas"><code class="language-plaintext highlighter-rouge">eth_estimateGas</code></a>—to avoid running out of gas during the transaction.</p>
<h3 id="logo">
<a href="#logo" class="anchor-link"></a> Logo
</h3>
<table>
<thead>
<tr>
<th style="text-align: right"><strong>Image</strong></th>
<th style="text-align: center"><img src="/assets/eip-777/logo/png/ERC-777-logo-beige-48px.png" alt="beige logo" /></th>
<th style="text-align: center"><img src="/assets/eip-777/logo/png/ERC-777-logo-white-48px.png" alt="white logo" /></th>
<th style="text-align: center"><img src="/assets/eip-777/logo/png/ERC-777-logo-light_grey-48px.png" alt="light grey logo" /></th>
<th style="text-align: center"><img src="/assets/eip-777/logo/png/ERC-777-logo-dark_grey-48px.png" alt="dark grey logo" /></th>
<th style="text-align: center"><img src="/assets/eip-777/logo/png/ERC-777-logo-black-48px.png" alt="black logo" /></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: right"><strong>Color</strong></td>
<td style="text-align: center">beige</td>
<td style="text-align: center">white</td>
<td style="text-align: center">light grey</td>
<td style="text-align: center">dark grey</td>
<td style="text-align: center">black</td>
</tr>
<tr>
<td style="text-align: right"><strong>Hex</strong></td>
<td style="text-align: center"><code class="language-plaintext highlighter-rouge">#C99D66</code></td>
<td style="text-align: center"><code class="language-plaintext highlighter-rouge">#FFFFFF</code></td>
<td style="text-align: center"><code class="language-plaintext highlighter-rouge">#EBEFF0</code></td>
<td style="text-align: center"><code class="language-plaintext highlighter-rouge">#3C3C3D</code></td>
<td style="text-align: center"><code class="language-plaintext highlighter-rouge">#000000</code></td>
</tr>
</tbody>
</table>
<p>The logo MAY be used, modified and adapted to promote valid <a href="/EIPS/eip-777">ERC-777</a> token implementations
and <a href="/EIPS/eip-777">ERC-777</a> compliant technologies such as wallets and dapps.</p>
<p><a href="/EIPS/eip-777">ERC-777</a> token contract authors MAY create a specific logo for their token based on this logo.</p>
<p>The logo MUST NOT be used to advertise, promote or associate in any way technology—such
as tokens—which is not <a href="/EIPS/eip-777">ERC-777</a> compliant.</p>
<p>The logo for the standard can be found in the <a href="https://github.com/ethereum/EIPs/tree/master/assets/eip-777/logo"><code class="language-plaintext highlighter-rouge">/assets/eip-777/logo</code></a> folder in <code class="language-plaintext highlighter-rouge">SVG</code> and <code class="language-plaintext highlighter-rouge">PNG</code> formats.
The <code class="language-plaintext highlighter-rouge">PNG</code> version of the logo offers a few sizes in pixels.
If needed, other sizes MAY be created by converting from <code class="language-plaintext highlighter-rouge">SVG</code> into <code class="language-plaintext highlighter-rouge">PNG</code>.</p>
